(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.IpfsPublicGatewayChecker = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var IpfsPublicGatewayChecker=(()=>{var Xp=Object.create;var no=Object.defineProperty;var Qp=Object.getOwnPropertyDescriptor;var Yp=Object.getOwnPropertyNames;var Zp=Object.getPrototypeOf,ed=Object.prototype.hasOwnProperty;var ei=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),re=(e,t)=>{for(var r in t)no(e,r,{get:t[r],enumerable:!0})},td=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yp(t))!ed.call(e,o)&&o!==r&&no(e,o,{get:()=>t[o],enumerable:!(n=Qp(t,o))||n.enumerable});return e};var U=(e,t,r)=>(r=e!=null?Xp(Zp(e)):{},td(t||!e||!e.__esModule?no(r,"default",{value:e,enumerable:!0}):r,e));var so=A((tr,oo)=>{(function(e){"use strict";function t(r){var n=r&&r.Promise||e.Promise,o=r&&r.XMLHttpRequest||e.XMLHttpRequest;return function(){var s=Object.create(e,{fetch:{value:void 0,writable:!0}});return function(i,a){typeof tr=="object"&&typeof oo<"u"?a(tr):typeof define=="function"&&define.amd?define(["exports"],a):a(i.WHATWGFetch={})}(this,function(i){"use strict";var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function h(d){return d&&DataView.prototype.isPrototypeOf(d)}if(c.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(d){return d&&p.indexOf(Object.prototype.toString.call(d))>-1};function k(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(d)||d==="")throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function $(d){return typeof d!="string"&&(d=String(d)),d}function b(d){var x={next:function(){var D=d.shift();return{done:D===void 0,value:D}}};return c.iterable&&(x[Symbol.iterator]=function(){return x}),x}function E(d){this.map={},d instanceof E?d.forEach(function(x,D){this.append(D,x)},this):Array.isArray(d)?d.forEach(function(x){this.append(x[0],x[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(x){this.append(x,d[x])},this)}E.prototype.append=function(d,x){d=k(d),x=$(x);var D=this.map[d];this.map[d]=D?D+", "+x:x},E.prototype.delete=function(d){delete this.map[k(d)]},E.prototype.get=function(d){return d=k(d),this.has(d)?this.map[d]:null},E.prototype.has=function(d){return this.map.hasOwnProperty(k(d))},E.prototype.set=function(d,x){this.map[k(d)]=$(x)},E.prototype.forEach=function(d,x){for(var D in this.map)this.map.hasOwnProperty(D)&&d.call(x,this.map[D],D,this)},E.prototype.keys=function(){var d=[];return this.forEach(function(x,D){d.push(D)}),b(d)},E.prototype.values=function(){var d=[];return this.forEach(function(x){d.push(x)}),b(d)},E.prototype.entries=function(){var d=[];return this.forEach(function(x,D){d.push([D,x])}),b(d)},c.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function _(d){if(d.bodyUsed)return n.reject(new TypeError("Already read"));d.bodyUsed=!0}function B(d){return new n(function(x,D){d.onload=function(){x(d.result)},d.onerror=function(){D(d.error)}})}function C(d){var x=new FileReader,D=B(x);return x.readAsArrayBuffer(d),D}function M(d){var x=new FileReader,D=B(x);return x.readAsText(d),D}function v(d){for(var x=new Uint8Array(d),D=new Array(x.length),z=0;z<x.length;z++)D[z]=String.fromCharCode(x[z]);return D.join("")}function se(d){if(d.slice)return d.slice(0);var x=new Uint8Array(d.byteLength);return x.set(new Uint8Array(d)),x.buffer}function Z(){return this.bodyUsed=!1,this._initBody=function(d){this.bodyUsed=this.bodyUsed,this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:c.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:c.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():c.arrayBuffer&&c.blob&&h(d)?(this._bodyArrayBuffer=se(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||y(d))?this._bodyArrayBuffer=se(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var d=_(this);if(d)return d;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var d=_(this);return d||(ArrayBuffer.isView(this._bodyArrayBuffer)?n.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):n.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var d=_(this);if(d)return d;if(this._bodyBlob)return M(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(pt)}),this.json=function(){return this.text().then(JSON.parse)},this}var ie=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(d){var x=d.toUpperCase();return ie.indexOf(x)>-1?x:d}function te(d,x){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var D=x.body;if(d instanceof te){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,x.headers||(this.headers=new E(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!D&&d._bodyInit!=null&&(D=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new E(x.headers)),this.method=m(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function pt(d){var x=new FormData;return d.trim().split("&").forEach(function(D){if(D){var z=D.split("="),G=z.shift().replace(/\+/g," "),F=z.join("=").replace(/\+/g," ");x.append(decodeURIComponent(G),decodeURIComponent(F))}}),x}function er(d){var x=new E,D=d.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var G=z.split(":"),F=G.shift().trim();if(F){var Dr=G.join(":").trim();x.append(F,Dr)}}),x}Z.call(te.prototype);function ae(d,x){if(!(this instanceof ae))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in x?x.statusText:"",this.headers=new E(x.headers),this.url=x.url||"",this._initBody(d)}Z.call(ae.prototype),ae.prototype.clone=function(){return new ae(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},ae.error=function(){var d=new ae(null,{status:0,statusText:""});return d.type="error",d};var Br=[301,302,303,307,308];ae.redirect=function(d,x){if(Br.indexOf(x)===-1)throw new RangeError("Invalid status code");return new ae(null,{status:x,headers:{location:d}})},i.DOMException=a.DOMException;try{new i.DOMException}catch{i.DOMException=function(x,D){this.message=x,this.name=D;var z=Error(x);this.stack=z.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function Tt(d,x){return new n(function(D,z){var G=new te(d,x);if(G.signal&&G.signal.aborted)return z(new i.DOMException("Aborted","AbortError"));var F=new o;function Dr(){F.abort()}F.onload=function(){var be={status:F.status,statusText:F.statusText,headers:er(F.getAllResponseHeaders()||"")};be.url="responseURL"in F?F.responseURL:be.headers.get("X-Request-URL");var Nr="response"in F?F.response:F.responseText;setTimeout(function(){D(new ae(Nr,be))},0)},F.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},F.onabort=function(){setTimeout(function(){z(new i.DOMException("Aborted","AbortError"))},0)};function Kp(be){try{return be===""&&a.location.href?a.location.href:be}catch{return be}}F.open(G.method,Kp(G.url),!0),G.credentials==="include"?F.withCredentials=!0:G.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(c.blob?F.responseType="blob":c.arrayBuffer&&G.headers.get("Content-Type")&&G.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(F.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof E)?Object.getOwnPropertyNames(x.headers).forEach(function(be){F.setRequestHeader(be,$(x.headers[be]))}):G.headers.forEach(function(be,Nr){F.setRequestHeader(Nr,be)}),G.signal&&(G.signal.addEventListener("abort",Dr),F.onreadystatechange=function(){F.readyState===4&&G.signal.removeEventListener("abort",Dr)}),F.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}Tt.polyfill=!0,a.fetch||(a.fetch=Tt,a.Headers=E,a.Request=te,a.Response=ae),i.Headers=E,i.Request=te,i.Response=ae,i.fetch=Tt,Object.defineProperty(i,"__esModule",{value:!0})}),{fetch:s.fetch,Headers:s.Headers,Request:s.Request,Response:s.Response,DOMException:s.DOMException}}()}typeof define=="function"&&define.amd?define(function(){return t}):typeof tr=="object"?oo.exports=t:e.fetchPonyfill=t})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof globalThis<"u"?globalThis:tr)});var sc=A((xx,oc)=>{oc.exports=ss;var nc=128,Hg=127,qg=~Hg,Gg=Math.pow(2,31);function ss(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw ss.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=Gg;)t[r++]=e&255|nc,e/=128;for(;e&qg;)t[r++]=e&255|nc,e>>>=7;return t[r]=e|0,ss.bytes=r-n+1,t}});var cc=A((Sx,ac)=>{ac.exports=is;var Vg=128,ic=127;function is(e,n){var r=0,n=n||0,o=0,s=n,i,a=e.length;do{if(s>=a||o>49)throw is.bytes=0,new RangeError("Could not decode varint");i=e[s++],r+=o<28?(i&ic)<<o:(i&ic)*Math.pow(2,o),o+=7}while(i>=Vg);return is.bytes=s-n,r}});var uc=A((Ex,fc)=>{var Wg=Math.pow(2,7),Jg=Math.pow(2,14),Kg=Math.pow(2,21),Xg=Math.pow(2,28),Qg=Math.pow(2,35),Yg=Math.pow(2,42),Zg=Math.pow(2,49),ey=Math.pow(2,56),ty=Math.pow(2,63);fc.exports=function(e){return e<Wg?1:e<Jg?2:e<Kg?3:e<Xg?4:e<Qg?5:e<Yg?6:e<Zg?7:e<ey?8:e<ty?9:10}});var un=A((vx,lc)=>{lc.exports={encode:sc(),decode:cc(),encodingLength:uc()}});var le=A((Mx,xc)=>{"use strict";function bc(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function wy(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return bc(e,r)}catch{r.message=e.message,r.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),bc(new o,r)}}xc.exports=wy});var _c=A((Kx,kc)=>{function Ey(){return typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}kc.exports=Ey});var Cc=A((Xx,Pc)=>{"use strict";var vy=_c(),dn=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,yr=vy(),Ty=dn&&!yr,ky=yr&&!dn,_y=yr&&dn,Py=typeof ei=="function"&&typeof process<"u"&&typeof process.release<"u"&&process.release.name==="node"&&!yr,Cy=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ay=typeof process<"u"&&typeof process.env<"u"&&!1,Iy=typeof navigator<"u"&&navigator.product==="ReactNative";Pc.exports={isTest:Ay,isElectron:yr,isElectronMain:ky,isElectronRenderer:_y,isNode:Py,isBrowser:Ty,isWebWorker:Cy,isEnvWithDom:dn,isReactNative:Iy}});var Bc=A((Zx,Uc)=>{var Ft=1e3,jt=Ft*60,Mt=jt*60,wt=Mt*24,By=wt*7,Dy=wt*365.25;Uc.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Ny(e);if(r==="number"&&isFinite(e))return t.long?Ly(e):Ry(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ny(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Dy;case"weeks":case"week":case"w":return r*By;case"days":case"day":case"d":return r*wt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Mt;case"minutes":case"minute":case"mins":case"min":case"m":return r*jt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ft;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ry(e){var t=Math.abs(e);return t>=wt?Math.round(e/wt)+"d":t>=Mt?Math.round(e/Mt)+"h":t>=jt?Math.round(e/jt)+"m":t>=Ft?Math.round(e/Ft)+"s":e+"ms"}function Ly(e){var t=Math.abs(e);return t>=wt?mn(e,t,wt,"day"):t>=Mt?mn(e,t,Mt,"hour"):t>=jt?mn(e,t,jt,"minute"):t>=Ft?mn(e,t,Ft,"second"):e+" ms"}function mn(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}});var Nc=A((eS,Dc)=>{function Oy(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=o,r.enabled=i,r.humanize=Bc(),r.destroy=h,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function t(p){let y=0;for(let k=0;k<p.length;k++)y=(y<<5)-y+p.charCodeAt(k),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=t;function r(p){let y,k=null,$,b;function E(..._){if(!E.enabled)return;let B=E,C=Number(new Date),M=C-(y||C);B.diff=M,B.prev=y,B.curr=C,y=C,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let v=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(Z,ie)=>{if(Z==="%%")return"%";v++;let m=r.formatters[ie];if(typeof m=="function"){let te=_[v];Z=m.call(B,te),_.splice(v,1),v--}return Z}),r.formatArgs.call(B,_),(B.log||r.log).apply(B,_)}return E.namespace=p,E.useColors=r.useColors(),E.color=r.selectColor(p),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>k!==null?k:($!==r.namespaces&&($=r.namespaces,b=r.enabled(p)),b),set:_=>{k=_}}),typeof r.init=="function"&&r.init(E),E}function n(p,y){let k=r(this.namespace+(typeof y>"u"?":":y)+p);return k.log=this.log,k}function o(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let y,k=(typeof p=="string"?p:"").split(/[\s,]+/),$=k.length;for(y=0;y<$;y++)!k[y]||(p=k[y].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.substr(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function s(){let p=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),p}function i(p){if(p[p.length-1]==="*")return!0;let y,k;for(y=0,k=r.skips.length;y<k;y++)if(r.skips[y].test(p))return!1;for(y=0,k=r.names.length;y<k;y++)if(r.names[y].test(p))return!0;return!1}function a(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function c(p){return p instanceof Error?p.stack||p.message:p}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Dc.exports=Oy});var Rc=A((we,gn)=>{we.formatArgs=Fy;we.save=jy;we.load=My;we.useColors=$y;we.storage=zy();we.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();we.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $y(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fy(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+gn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),e.splice(n,0,t)}we.log=console.debug||console.log||(()=>{});function jy(e){try{e?we.storage.setItem("debug",e):we.storage.removeItem("debug")}catch{}}function My(){let e;try{e=we.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function zy(){try{return localStorage}catch{}}gn.exports=Nc()(we);var{formatters:Hy}=gn.exports;Hy.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ws=A(wn=>{"use strict";var ms=class extends Error{constructor(t="Request timed out"){super(t),this.name="TimeoutError"}};wn.TimeoutError=ms;var gs=class extends Error{constructor(t="The operation was aborted."){super(t),this.name="AbortError"}};wn.AbortError=gs;var ys=class extends Error{constructor(t){super(t.statusText),this.name="HTTPError",this.response=t}};wn.HTTPError=ys});var wr=A((zt,Lc)=>{"use strict";var qy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ye<"u")return Ye;throw new Error("unable to locate global object")},Ye=qy();Lc.exports=zt=Ye.fetch;Ye.fetch&&(zt.default=Ye.fetch.bind(Ye));zt.Headers=Ye.Headers;zt.Request=Ye.Request;zt.Response=Ye.Response});var Oc=A((iS,bs)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?bs.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:bs.exports={default:wr().default,Headers:wr().Headers,Request:wr().Request,Response:wr().Response}});var Fc=A((aS,$c)=>{"use strict";$c.exports=Oc()});var zc=A((cS,Mc)=>{"use strict";var{TimeoutError:Gy,AbortError:Vy}=ws(),{Response:jc,Request:Wy,Headers:Ss,default:Jy}=Fc(),Ky=(e,t={})=>{let r=new XMLHttpRequest;r.open(t.method||"GET",e.toString(),!0);let{timeout:n,headers:o}=t;if(n&&n>0&&n<1/0&&(r.timeout=n),t.overrideMimeType!=null&&r.overrideMimeType(t.overrideMimeType),o)for(let[s,i]of new Ss(o))r.setRequestHeader(s,i);return t.signal&&(t.signal.onabort=()=>r.abort()),t.onUploadProgress&&(r.upload.onprogress=t.onUploadProgress),r.responseType="arraybuffer",new Promise((s,i)=>{let a=c=>{switch(c.type){case"error":{s(jc.error());break}case"load":{s(new xs(r.responseURL,r.response,{status:r.status,statusText:r.statusText,headers:Yy(r.getAllResponseHeaders())}));break}case"timeout":{i(new Gy);break}case"abort":{i(new Vy);break}default:break}};r.onerror=a,r.onload=a,r.ontimeout=a,r.onabort=a,r.send(t.body)})},Xy=Jy,Qy=(e,t={})=>t.onUploadProgress!=null?Ky(e,t):Xy(e,t),Yy=e=>{let t=new Ss;for(let r of e.trim().split(/[\r\n]+/)){let n=r.indexOf(": ");n>0&&t.set(r.slice(0,n),r.slice(n+1))}return t},xs=class extends jc{constructor(t,r,n){super(r,n),Object.defineProperty(this,"url",{value:t})}};Mc.exports={fetch:Qy,Request:Wy,Headers:Ss}});var qc=A((fS,Hc)=>{"use strict";Hc.exports=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}});var vs=A((Jc,Kc)=>{"use strict";var bn=qc(),{hasOwnProperty:Vc}=Object.prototype,{propertyIsEnumerable:Zy}=Object,Ht=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),ew=Jc,Gc={concatArrays:!1,ignoreUndefined:!1},xn=e=>{let t=[];for(let r in e)Vc.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){let r=Object.getOwnPropertySymbols(e);for(let n of r)Zy.call(e,n)&&t.push(n)}return t};function qt(e){return Array.isArray(e)?tw(e):bn(e)?rw(e):e}function tw(e){let t=e.slice(0,0);return xn(e).forEach(r=>{Ht(t,r,qt(e[r]))}),t}function rw(e){let t=Object.getPrototypeOf(e)===null?Object.create(null):{};return xn(e).forEach(r=>{Ht(t,r,qt(e[r]))}),t}var Wc=(e,t,r,n)=>(r.forEach(o=>{typeof t[o]>"u"&&n.ignoreUndefined||(o in e&&e[o]!==Object.getPrototypeOf(e)?Ht(e,o,Es(e[o],t[o],n)):Ht(e,o,qt(t[o])))}),e),nw=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(s=>{let i=[];for(let a=0;a<s.length;a++)!Vc.call(s,a)||(i.push(String(a)),s===e?Ht(n,o++,s[a]):Ht(n,o++,qt(s[a])));n=Wc(n,s,xn(s).filter(a=>!i.includes(a)),r)}),n};function Es(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?nw(e,t,r):!bn(t)||!bn(e)?qt(t):Wc(e,t,xn(t),r)}Kc.exports=function(...e){let t=Es(qt(Gc),this!==ew&&this||{},Gc),r={_:{}};for(let n of e)if(n!==void 0){if(!bn(n))throw new TypeError("`"+n+"` is not an Option Object");r=Es(r,{_:n},t)}return r._}});var ks=A((uS,Qc)=>{"use strict";var ow=typeof navigator<"u"&&navigator.product==="ReactNative";function sw(){return ow?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}var br=self.URL,Xc=sw(),Ts=class{constructor(t="",r=Xc){this.super=new br(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set username(t){this.super.username=t}static createObjectURL(t){return br.createObjectURL(t)}static revokeObjectURL(t){br.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function iw(e){if(typeof e=="string")return new br(e).toString();if(!(e instanceof br)){let t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",o=e.protocol?e.protocol+"//":"",s=e.host||"",i=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",h=e.pathname||"",p=e.path||h+a;return`${o}${t||r}${s||i+n}${p}${c}`}}Qc.exports={URLWithLegacySupport:Ts,URLSearchParams:self.URLSearchParams,defaultBase:Xc,format:iw}});var ef=A((lS,Zc)=>{"use strict";var{URLWithLegacySupport:Yc,format:aw}=ks();Zc.exports=(e,t={},r={},n)=>{let o=t.protocol?t.protocol.replace(":",""):"http";o=(r[o]||n||o)+":";let s;try{s=new Yc(e)}catch{s={}}let i=Object.assign({},t,{protocol:o||s.protocol,host:t.host||s.host});return new Yc(e,aw(i)).toString()}});var rf=A((hS,tf)=>{"use strict";var{URLWithLegacySupport:cw,format:fw,URLSearchParams:uw,defaultBase:lw}=ks(),hw=ef();tf.exports={URL:cw,URLSearchParams:uw,format:fw,relative:hw,defaultBase:lw}});var Ps=A((pS,_s)=>{function nf(e){let t=new globalThis.AbortController;function r(){t.abort();for(let n of e)!n||!n.removeEventListener||n.removeEventListener("abort",r)}for(let n of e)if(!(!n||!n.addEventListener)){if(n.aborted){r();break}n.addEventListener("abort",r)}return t.signal}_s.exports=nf;_s.exports.anySignal=nf});var Sn=A((dS,uf)=>{"use strict";var{fetch:pw,Request:dw,Headers:mw}=zc(),{TimeoutError:Cs,HTTPError:cf}=ws(),of=vs().bind({ignoreUndefined:!0}),{URL:sf,URLSearchParams:af}=rf(),gw=Ps(),yw=(e,t,r)=>{if(t===void 0)return e;let n=Date.now(),o=()=>Date.now()-n>=t;return new Promise((s,i)=>{let a=setTimeout(()=>{o()&&(i(new Cs),r.abort())},t),c=h=>y=>{if(clearTimeout(a),o()){i(new Cs);return}h(y)};e.then(c(s),c(i))})},ww={throwHttpErrors:!0,credentials:"same-origin"},ue=class{constructor(t={}){this.opts=of(ww,t)}async fetch(t,r={}){let n=of(this.opts,r),o=new mw(n.headers);if(typeof t!="string"&&!(t instanceof sf||t instanceof dw))throw new TypeError("`resource` must be a string, URL, or Request");let s=new sf(t.toString(),n.base),{searchParams:i,transformSearchParams:a,json:c}=n;i&&(typeof a=="function"?s.search=a(new af(n.searchParams)):s.search=new af(n.searchParams)),c&&(n.body=JSON.stringify(n.json),o.set("content-type","application/json"));let h=new AbortController,p=gw([h.signal,n.signal]),y=await yw(pw(s.toString(),{...n,signal:p,timeout:void 0,headers:o}),n.timeout,h);if(!y.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(y),new cf(y);return y.iterator=async function*(){yield*ff(y.body)},y.ndjson=async function*(){for await(let k of bw(y.iterator()))r.transform?yield r.transform(k):yield k},y}post(t,r={}){return this.fetch(t,{...r,method:"POST"})}get(t,r={}){return this.fetch(t,{...r,method:"GET"})}put(t,r={}){return this.fetch(t,{...r,method:"PUT"})}delete(t,r={}){return this.fetch(t,{...r,method:"DELETE"})}options(t,r={}){return this.fetch(t,{...r,method:"OPTIONS"})}},bw=async function*(e){let t=new TextDecoder,r="";for await(let n of e){r+=t.decode(n,{stream:!0});let o=r.split(/\r?\n/);for(let s=0;s<o.length-1;s++){let i=o[s].trim();i.length>0&&(yield JSON.parse(i))}r=o[o.length-1]}r+=t.decode(),r=r.trim(),r.length!==0&&(yield JSON.parse(r))},ff=e=>{if(Ew(e)){let t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:t.next.bind(t),return(r){return e.destroy(),typeof t.return=="function"?t.return():Promise.resolve({done:!0,value:r})}}}}}if(Sw(e)){let t=e.getReader();return async function*(){try{for(;;){let{done:r,value:n}=await t.read();if(r)return;n&&(yield n)}}finally{t.releaseLock()}}()}if(xw(e))return e;throw new TypeError("Body can't be converted to AsyncIterable")},xw=e=>typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function",Sw=e=>e&&typeof e.getReader=="function",Ew=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");ue.HTTPError=cf;ue.TimeoutError=Cs;ue.streamToAsyncIterator=ff;ue.post=(e,t)=>new ue(t).post(e,t);ue.get=(e,t)=>new ue(t).get(e,t);ue.put=(e,t)=>new ue(t).put(e,t);ue.delete=(e,t)=>new ue(t).delete(e,t);ue.options=(e,t)=>new ue(t).options(e,t);uf.exports=ue});var Tr=A((g2,Pf)=>{"use strict";function Ow(e){let[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}Pf.exports=Ow});var Gt=A((y2,Cf)=>{"use strict";async function*$w(e,t={}){let r=e.getReader();try{for(;;){let n=await r.read();if(n.done)return;yield n.value}}finally{t.preventCancel!==!0&&r.cancel(),r.releaseLock()}}Cf.exports=$w});var Is=A((w2,Af)=>{"use strict";var Fw=async e=>{let t=[];for await(let r of e)t.push(r);return t};Af.exports=Fw});var Us=A((E2,Lf)=>{"use strict";var jw=async function*(e,t){for await(let r of e)yield t(r)};Lf.exports=jw});var $f=A((v2,Of)=>{"use strict";Of.exports=Mw;function Mw(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,s=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(a,c){r[n]=function(p){if(s)if(s=!1,p)c(p);else{for(var y=new Array(arguments.length-1),k=0;k<y.length;)y[k++]=arguments[k];a.apply(null,y)}};try{e.apply(t||null,r)}catch(h){s&&(s=!1,c(h))}})}});var zf=A(Mf=>{"use strict";var Pn=Mf;Pn.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Vt=new Array(64),jf=new Array(123);for(Le=0;Le<64;)jf[Vt[Le]=Le<26?Le+65:Le<52?Le+71:Le<62?Le-4:Le-59|43]=Le++;var Le;Pn.encode=function(t,r,n){for(var o=null,s=[],i=0,a=0,c;r<n;){var h=t[r++];switch(a){case 0:s[i++]=Vt[h>>2],c=(h&3)<<4,a=1;break;case 1:s[i++]=Vt[c|h>>4],c=(h&15)<<2,a=2;break;case 2:s[i++]=Vt[c|h>>6],s[i++]=Vt[h&63],a=0;break}i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),i=0)}return a&&(s[i++]=Vt[c],s[i++]=61,a===1&&(s[i++]=61)),o?(i&&o.push(String.fromCharCode.apply(String,s.slice(0,i))),o.join("")):String.fromCharCode.apply(String,s.slice(0,i))};var Ff="invalid encoding";Pn.decode=function(t,r,n){for(var o=n,s=0,i,a=0;a<t.length;){var c=t.charCodeAt(a++);if(c===61&&s>1)break;if((c=jf[c])===void 0)throw Error(Ff);switch(s){case 0:i=c,s=1;break;case 1:r[n++]=i<<2|(c&48)>>4,i=c,s=2;break;case 2:r[n++]=(i&15)<<4|(c&60)>>2,i=c,s=3;break;case 3:r[n++]=(i&3)<<6|c,s=0;break}}if(s===1)throw Error(Ff);return n-o};Pn.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var qf=A((k2,Hf)=>{"use strict";Hf.exports=Cn;function Cn(){this._listeners={}}Cn.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Cn.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],o=0;o<n.length;)n[o].fn===r?n.splice(o,1):++o;return this};Cn.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<r.length;)r[o].fn.apply(r[o++].ctx,n)}return this}});var Qf=A((_2,Xf)=>{"use strict";Xf.exports=Gf(Gf);function Gf(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function o(c,h,p){t[0]=c,h[p]=r[0],h[p+1]=r[1],h[p+2]=r[2],h[p+3]=r[3]}function s(c,h,p){t[0]=c,h[p]=r[3],h[p+1]=r[2],h[p+2]=r[1],h[p+3]=r[0]}e.writeFloatLE=n?o:s,e.writeFloatBE=n?s:o;function i(c,h){return r[0]=c[h],r[1]=c[h+1],r[2]=c[h+2],r[3]=c[h+3],t[0]}function a(c,h){return r[3]=c[h],r[2]=c[h+1],r[1]=c[h+2],r[0]=c[h+3],t[0]}e.readFloatLE=n?i:a,e.readFloatBE=n?a:i}():function(){function t(n,o,s,i){var a=o<0?1:0;if(a&&(o=-o),o===0)n(1/o>0?0:2147483648,s,i);else if(isNaN(o))n(2143289344,s,i);else if(o>34028234663852886e22)n((a<<31|2139095040)>>>0,s,i);else if(o<11754943508222875e-54)n((a<<31|Math.round(o/1401298464324817e-60))>>>0,s,i);else{var c=Math.floor(Math.log(o)/Math.LN2),h=Math.round(o*Math.pow(2,-c)*8388608)&8388607;n((a<<31|c+127<<23|h)>>>0,s,i)}}e.writeFloatLE=t.bind(null,Vf),e.writeFloatBE=t.bind(null,Wf);function r(n,o,s){var i=n(o,s),a=(i>>31)*2+1,c=i>>>23&255,h=i&8388607;return c===255?h?NaN:a*(1/0):c===0?a*1401298464324817e-60*h:a*Math.pow(2,c-150)*(h+8388608)}e.readFloatLE=r.bind(null,Jf),e.readFloatBE=r.bind(null,Kf)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function o(c,h,p){t[0]=c,h[p]=r[0],h[p+1]=r[1],h[p+2]=r[2],h[p+3]=r[3],h[p+4]=r[4],h[p+5]=r[5],h[p+6]=r[6],h[p+7]=r[7]}function s(c,h,p){t[0]=c,h[p]=r[7],h[p+1]=r[6],h[p+2]=r[5],h[p+3]=r[4],h[p+4]=r[3],h[p+5]=r[2],h[p+6]=r[1],h[p+7]=r[0]}e.writeDoubleLE=n?o:s,e.writeDoubleBE=n?s:o;function i(c,h){return r[0]=c[h],r[1]=c[h+1],r[2]=c[h+2],r[3]=c[h+3],r[4]=c[h+4],r[5]=c[h+5],r[6]=c[h+6],r[7]=c[h+7],t[0]}function a(c,h){return r[7]=c[h],r[6]=c[h+1],r[5]=c[h+2],r[4]=c[h+3],r[3]=c[h+4],r[2]=c[h+5],r[1]=c[h+6],r[0]=c[h+7],t[0]}e.readDoubleLE=n?i:a,e.readDoubleBE=n?a:i}():function(){function t(n,o,s,i,a,c){var h=i<0?1:0;if(h&&(i=-i),i===0)n(0,a,c+o),n(1/i>0?0:2147483648,a,c+s);else if(isNaN(i))n(0,a,c+o),n(2146959360,a,c+s);else if(i>17976931348623157e292)n(0,a,c+o),n((h<<31|2146435072)>>>0,a,c+s);else{var p;if(i<22250738585072014e-324)p=i/5e-324,n(p>>>0,a,c+o),n((h<<31|p/4294967296)>>>0,a,c+s);else{var y=Math.floor(Math.log(i)/Math.LN2);y===1024&&(y=1023),p=i*Math.pow(2,-y),n(p*4503599627370496>>>0,a,c+o),n((h<<31|y+1023<<20|p*1048576&1048575)>>>0,a,c+s)}}}e.writeDoubleLE=t.bind(null,Vf,0,4),e.writeDoubleBE=t.bind(null,Wf,4,0);function r(n,o,s,i,a){var c=n(i,a+o),h=n(i,a+s),p=(h>>31)*2+1,y=h>>>20&2047,k=4294967296*(h&1048575)+c;return y===2047?k?NaN:p*(1/0):y===0?p*5e-324*k:p*Math.pow(2,y-1075)*(k+4503599627370496)}e.readDoubleLE=r.bind(null,Jf,0,4),e.readDoubleBE=r.bind(null,Kf,4,0)}(),e}function Vf(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function Wf(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function Jf(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Kf(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var Yf=A((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var eu=A(Zf=>{"use strict";var Bs=Zf;Bs.length=function(t){for(var r=0,n=0,o=0;o<t.length;++o)n=t.charCodeAt(o),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,r+=4):r+=3;return r};Bs.read=function(t,r,n){var o=n-r;if(o<1)return"";for(var s=null,i=[],a=0,c;r<n;)c=t[r++],c<128?i[a++]=c:c>191&&c<224?i[a++]=(c&31)<<6|t[r++]&63:c>239&&c<365?(c=((c&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,i[a++]=55296+(c>>10),i[a++]=56320+(c&1023)):i[a++]=(c&15)<<12|(t[r++]&63)<<6|t[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};Bs.write=function(t,r,n){for(var o=n,s,i,a=0;a<t.length;++a)s=t.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((i=t.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(i&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-o}});var ru=A((C2,tu)=>{"use strict";tu.exports=zw;function zw(e,t,r){var n=r||8192,o=n>>>1,s=null,i=n;return function(c){if(c<1||c>o)return e(c);i+c>n&&(s=e(n),i=0);var h=t.call(s,i,i+=c);return i&7&&(i=(i|7)+1),h}}});var ou=A((A2,nu)=>{"use strict";nu.exports=oe;var _r=lt();function oe(e,t){this.lo=e>>>0,this.hi=t>>>0}var xt=oe.zero=new oe(0,0);xt.toNumber=function(){return 0};xt.zzEncode=xt.zzDecode=function(){return this};xt.length=function(){return 1};var Hw=oe.zeroHash="\0\0\0\0\0\0\0\0";oe.fromNumber=function(t){if(t===0)return xt;var r=t<0;r&&(t=-t);var n=t>>>0,o=(t-n)/4294967296>>>0;return r&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new oe(n,o)};oe.from=function(t){if(typeof t=="number")return oe.fromNumber(t);if(_r.isString(t))if(_r.Long)t=_r.Long.fromString(t);else return oe.fromNumber(parseInt(t,10));return t.low||t.high?new oe(t.low>>>0,t.high>>>0):xt};oe.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};oe.prototype.toLong=function(t){return _r.Long?new _r.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var ut=String.prototype.charCodeAt;oe.fromHash=function(t){return t===Hw?xt:new oe((ut.call(t,0)|ut.call(t,1)<<8|ut.call(t,2)<<16|ut.call(t,3)<<24)>>>0,(ut.call(t,4)|ut.call(t,5)<<8|ut.call(t,6)<<16|ut.call(t,7)<<24)>>>0)};oe.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};oe.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};oe.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};oe.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var lt=A(Ds=>{"use strict";var P=Ds;P.asPromise=$f();P.base64=zf();P.EventEmitter=qf();P.float=Qf();P.inquire=Yf();P.utf8=eu();P.pool=ru();P.LongBits=ou();P.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);P.global=P.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||Ds;P.emptyArray=Object.freeze?Object.freeze([]):[];P.emptyObject=Object.freeze?Object.freeze({}):{};P.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};P.isString=function(t){return typeof t=="string"||t instanceof String};P.isObject=function(t){return t&&typeof t=="object"};P.isset=P.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};P.Buffer=function(){try{var e=P.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();P._Buffer_from=null;P._Buffer_allocUnsafe=null;P.newBuffer=function(t){return typeof t=="number"?P.Buffer?P._Buffer_allocUnsafe(t):new P.Array(t):P.Buffer?P._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};P.Array=typeof Uint8Array<"u"?Uint8Array:Array;P.Long=P.global.dcodeIO&&P.global.dcodeIO.Long||P.global.Long||P.inquire("long");P.key2Re=/^true|false|0|1$/;P.key32Re=/^-?(?:0|[1-9][0-9]*)$/;P.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;P.longToHash=function(t){return t?P.LongBits.from(t).toHash():P.LongBits.zeroHash};P.longFromHash=function(t,r){var n=P.LongBits.fromHash(t);return P.Long?P.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function su(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)(e[n[o]]===void 0||!r)&&(e[n[o]]=t[n[o]]);return e}P.merge=su;P.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function iu(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&su(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}P.newError=iu;P.ProtocolError=iu("ProtocolError");P.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var o=Object.keys(this),s=o.length-1;s>-1;--s)if(r[o[s]]===1&&this[o[s]]!==void 0&&this[o[s]]!==null)return o[s]}};P.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};P.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};P._configure=function(){var e=P.Buffer;if(!e){P._Buffer_from=P._Buffer_allocUnsafe=null;return}P._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},P._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var js=A((U2,uu)=>{"use strict";uu.exports=L;var ke=lt(),Ns,An=ke.LongBits,au=ke.base64,cu=ke.utf8;function Pr(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function Ls(){}function qw(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function L(){this.len=0,this.head=new Pr(Ls,0,0),this.tail=this.head,this.states=null}var fu=function(){return ke.Buffer?function(){return(L.create=function(){return new Ns})()}:function(){return new L}};L.create=fu();L.alloc=function(t){return new ke.Array(t)};ke.Array!==Array&&(L.alloc=ke.pool(L.alloc,ke.Array.prototype.subarray));L.prototype._push=function(t,r,n){return this.tail=this.tail.next=new Pr(t,r,n),this.len+=r,this};function Os(e,t,r){t[r]=e&255}function Gw(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function $s(e,t){this.len=e,this.next=void 0,this.val=t}$s.prototype=Object.create(Pr.prototype);$s.prototype.fn=Gw;L.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new $s((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};L.prototype.int32=function(t){return t<0?this._push(Fs,10,An.fromNumber(t)):this.uint32(t)};L.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Fs(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}L.prototype.uint64=function(t){var r=An.from(t);return this._push(Fs,r.length(),r)};L.prototype.int64=L.prototype.uint64;L.prototype.sint64=function(t){var r=An.from(t).zzEncode();return this._push(Fs,r.length(),r)};L.prototype.bool=function(t){return this._push(Os,1,t?1:0)};function Rs(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}L.prototype.fixed32=function(t){return this._push(Rs,4,t>>>0)};L.prototype.sfixed32=L.prototype.fixed32;L.prototype.fixed64=function(t){var r=An.from(t);return this._push(Rs,4,r.lo)._push(Rs,4,r.hi)};L.prototype.sfixed64=L.prototype.fixed64;L.prototype.float=function(t){return this._push(ke.float.writeFloatLE,4,t)};L.prototype.double=function(t){return this._push(ke.float.writeDoubleLE,8,t)};var Vw=ke.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var o=0;o<t.length;++o)r[n+o]=t[o]};L.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(Os,1,0);if(ke.isString(t)){var n=L.alloc(r=au.length(t));au.decode(t,n,0),t=n}return this.uint32(r)._push(Vw,r,t)};L.prototype.string=function(t){var r=cu.length(t);return r?this.uint32(r)._push(cu.write,r,t):this._push(Os,1,0)};L.prototype.fork=function(){return this.states=new qw(this),this.head=this.tail=new Pr(Ls,0,0),this.len=0,this};L.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Pr(Ls,0,0),this.len=0),this};L.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};L.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};L._configure=function(e){Ns=e,L.create=fu(),Ns._configure()}});var pu=A((B2,hu)=>{"use strict";hu.exports=qe;var lu=js();(qe.prototype=Object.create(lu.prototype)).constructor=qe;var ht=lt();function qe(){lu.call(this)}qe._configure=function(){qe.alloc=ht._Buffer_allocUnsafe,qe.writeBytesBuffer=ht.Buffer&&ht.Buffer.prototype instanceof Uint8Array&&ht.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var o=0;o<t.length;)r[n++]=t[o++]}};qe.prototype.bytes=function(t){ht.isString(t)&&(t=ht._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(qe.writeBytesBuffer,r,t),this};function Ww(e,t,r){e.length<40?ht.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}qe.prototype.string=function(t){var r=ht.Buffer.byteLength(t);return this.uint32(r),r&&this._push(Ww,r,t),this};qe._configure()});var Hs=A((D2,wu)=>{"use strict";wu.exports=V;var Ge=lt(),zs,gu=Ge.LongBits,Jw=Ge.utf8;function Oe(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function V(e){this.buf=e,this.pos=0,this.len=e.length}var du=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new V(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new V(t);throw Error("illegal buffer")},yu=function(){return Ge.Buffer?function(r){return(V.create=function(o){return Ge.Buffer.isBuffer(o)?new zs(o):du(o)})(r)}:du};V.create=yu();V.prototype._slice=Ge.Array.prototype.subarray||Ge.Array.prototype.slice;V.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Oe(this,10);return t}}();V.prototype.int32=function(){return this.uint32()|0};V.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function Ms(){var e=new gu(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Oe(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Oe(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}V.prototype.bool=function(){return this.uint32()!==0};function In(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}V.prototype.fixed32=function(){if(this.pos+4>this.len)throw Oe(this,4);return In(this.buf,this.pos+=4)};V.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Oe(this,4);return In(this.buf,this.pos+=4)|0};function mu(){if(this.pos+8>this.len)throw Oe(this,8);return new gu(In(this.buf,this.pos+=4),In(this.buf,this.pos+=4))}V.prototype.float=function(){if(this.pos+4>this.len)throw Oe(this,4);var t=Ge.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};V.prototype.double=function(){if(this.pos+8>this.len)throw Oe(this,4);var t=Ge.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};V.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Oe(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};V.prototype.string=function(){var t=this.bytes();return Jw.read(t,0,t.length)};V.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Oe(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Oe(this);while(this.buf[this.pos++]&128);return this};V.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};V._configure=function(e){zs=e,V.create=yu(),zs._configure();var t=Ge.Long?"toLong":"toNumber";Ge.merge(V.prototype,{int64:function(){return Ms.call(this)[t](!1)},uint64:function(){return Ms.call(this)[t](!0)},sint64:function(){return Ms.call(this).zzDecode()[t](!1)},fixed64:function(){return mu.call(this)[t](!0)},sfixed64:function(){return mu.call(this)[t](!1)}})}});var Eu=A((N2,Su)=>{"use strict";Su.exports=St;var xu=Hs();(St.prototype=Object.create(xu.prototype)).constructor=St;var bu=lt();function St(e){xu.call(this,e)}St._configure=function(){bu.Buffer&&(St.prototype._slice=bu.Buffer.prototype.slice)};St.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};St._configure()});var Tu=A((R2,vu)=>{"use strict";vu.exports=Cr;var qs=lt();(Cr.prototype=Object.create(qs.EventEmitter.prototype)).constructor=Cr;function Cr(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");qs.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}Cr.prototype.rpcCall=function e(t,r,n,o,s){if(!o)throw TypeError("request must be specified");var i=this;if(!s)return qs.asPromise(e,i,t,r,n,o);if(!i.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return i.rpcImpl(t,r[i.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(c,h){if(c)return i.emit("error",c,t),s(c);if(h===null){i.end(!0);return}if(!(h instanceof n))try{h=n[i.responseDelimited?"decodeDelimited":"decode"](h)}catch(p){return i.emit("error",p,t),s(p)}return i.emit("data",h,t),s(null,h)})}catch(a){i.emit("error",a,t),setTimeout(function(){s(a)},0);return}};Cr.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var _u=A(ku=>{"use strict";var Kw=ku;Kw.Service=Tu()});var Cu=A((O2,Pu)=>{"use strict";Pu.exports={}});var Uu=A(Iu=>{"use strict";var he=Iu;he.build="minimal";he.Writer=js();he.BufferWriter=pu();he.Reader=Hs();he.BufferReader=Eu();he.util=lt();he.rpc=_u();he.roots=Cu();he.configure=Au;function Au(){he.util._configure(),he.Writer._configure(he.BufferWriter),he.Reader._configure(he.BufferReader)}Au()});var Du=A((F2,Bu)=>{"use strict";Bu.exports=Uu()});var al=A((Iv,il)=>{"use strict";var tb=async e=>{for await(let t of e)return t};il.exports=tb});var Ir=A((Uv,cl)=>{"use strict";var rb=async e=>{let t;for await(let r of e)t=r;return t};cl.exports=rb});var Rl=A((Ck,Nl)=>{Nl.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}();throw new Error("unknown stream")}});var hp=A((kC,lp)=>{"use strict";var up=Gt();function bb(e){return typeof e.stream=="function"?up(e.stream()):up(new Response(e).body)}lp.exports=bb});var jp=A(()=>{});var zp=A((RA,Mp)=>{"use strict";var Sb=Sn(),Eb=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:vb(e,t)});async function*vb(e,t){yield*(await new Sb().get(e,t)).iterator()}Mp.exports=Eb});function rd(){var e=Object.create(null);e.ftp=21,e.file=0,e.gopher=70,e.http=80,e.https=443,e.ws=80,e.wss=443;var t=Object.create(null);t["%2e"]=".",t[".%2e"]="..",t["%2e."]="..",t["%2e%2e"]="..";function r(b){return e[b]!==void 0}function n(){y.call(this),this._isInvalid=!0}function o(b){return b==""&&n.call(this),b.toLowerCase()}function s(b){var E=b.charCodeAt(0);return E>32&&E<127&&[34,35,60,62,63,96].indexOf(E)==-1?b:encodeURIComponent(b)}function i(b){var E=b.charCodeAt(0);return E>32&&E<127&&[34,35,60,62,96].indexOf(E)==-1?b:encodeURIComponent(b)}var a=void 0,c=/[a-zA-Z]/,h=/[a-zA-Z0-9\+\-\.]/;function p(b,E,_){function B(x){ie.push(x)}var C=E||"scheme start",M=0,v="",se=!1,Z=!1,ie=[];e:for(;(b[M-1]!=a||M==0)&&!this._isInvalid;){var m=b[M];switch(C){case"scheme start":if(m&&c.test(m))v+=m.toLowerCase(),C="scheme";else if(E){B("Invalid scheme.");break e}else{v="",C="no scheme";continue}break;case"scheme":if(m&&h.test(m))v+=m.toLowerCase();else if(m==":"){if(this._scheme=v,v="",E)break e;r(this._scheme)&&(this._isRelative=!0),this._scheme=="file"?C="relative":this._isRelative&&_&&_._scheme==this._scheme?C="relative or authority":this._isRelative?C="authority first slash":C="scheme data"}else if(E){if(a==m)break e;B("Code point not allowed in scheme: "+m);break e}else{v="",M=0,C="no scheme";continue}break;case"scheme data":m=="?"?(this._query="?",C="query"):m=="#"?(this._fragment="#",C="fragment"):a!=m&&m!="	"&&m!=`
`&&m!="\r"&&(this._schemeData+=s(m));break;case"no scheme":if(!_||!r(_._scheme))B("Missing scheme."),n.call(this);else{C="relative";continue}break;case"relative or authority":if(m=="/"&&b[M+1]=="/")C="authority ignore slashes";else{B("Expected /, got: "+m),C="relative";continue}break;case"relative":if(this._isRelative=!0,this._scheme!="file"&&(this._scheme=_._scheme),a==m){this._host=_._host,this._port=_._port,this._path=_._path.slice(),this._query=_._query,this._username=_._username,this._password=_._password;break e}else if(m=="/"||m=="\\")m=="\\"&&B("\\ is an invalid code point."),C="relative slash";else if(m=="?")this._host=_._host,this._port=_._port,this._path=_._path.slice(),this._query="?",this._username=_._username,this._password=_._password,C="query";else if(m=="#")this._host=_._host,this._port=_._port,this._path=_._path.slice(),this._query=_._query,this._fragment="#",this._username=_._username,this._password=_._password,C="fragment";else{var te=b[M+1],pt=b[M+2];(this._scheme!="file"||!c.test(m)||te!=":"&&te!="|"||a!=pt&&pt!="/"&&pt!="\\"&&pt!="?"&&pt!="#")&&(this._host=_._host,this._port=_._port,this._username=_._username,this._password=_._password,this._path=_._path.slice(),this._path.pop()),C="relative path";continue}break;case"relative slash":if(m=="/"||m=="\\")m=="\\"&&B("\\ is an invalid code point."),this._scheme=="file"?C="file host":C="authority ignore slashes";else{this._scheme!="file"&&(this._host=_._host,this._port=_._port,this._username=_._username,this._password=_._password),C="relative path";continue}break;case"authority first slash":if(m=="/")C="authority second slash";else{B("Expected '/', got: "+m),C="authority ignore slashes";continue}break;case"authority second slash":if(C="authority ignore slashes",m!="/"){B("Expected '/', got: "+m);continue}break;case"authority ignore slashes":if(m!="/"&&m!="\\"){C="authority";continue}else B("Expected authority, got: "+m);break;case"authority":if(m=="@"){se&&(B("@ already seen."),v+="%40"),se=!0;for(var er=0;er<v.length;er++){var ae=v[er];if(ae=="	"||ae==`
`||ae=="\r"){B("Invalid whitespace in authority.");continue}if(ae==":"&&this._password===null){this._password="";continue}var Br=s(ae);this._password!==null?this._password+=Br:this._username+=Br}v=""}else if(a==m||m=="/"||m=="\\"||m=="?"||m=="#"){M-=v.length,v="",C="host";continue}else v+=m;break;case"file host":if(a==m||m=="/"||m=="\\"||m=="?"||m=="#"){v.length==2&&c.test(v[0])&&(v[1]==":"||v[1]=="|")?C="relative path":(v.length==0||(this._host=o.call(this,v),v=""),C="relative path start");continue}else m=="	"||m==`
`||m=="\r"?B("Invalid whitespace in file host."):v+=m;break;case"host":case"hostname":if(m==":"&&!Z){if(this._host=o.call(this,v),v="",C="port",E=="hostname")break e}else if(a==m||m=="/"||m=="\\"||m=="?"||m=="#"){if(this._host=o.call(this,v),v="",C="relative path start",E)break e;continue}else m!="	"&&m!=`
`&&m!="\r"?(m=="["?Z=!0:m=="]"&&(Z=!1),v+=m):B("Invalid code point in host/hostname: "+m);break;case"port":if(/[0-9]/.test(m))v+=m;else if(a==m||m=="/"||m=="\\"||m=="?"||m=="#"||E){if(v!=""){var Tt=parseInt(v,10);Tt!=e[this._scheme]&&(this._port=Tt+""),v=""}if(E)break e;C="relative path start";continue}else m=="	"||m==`
`||m=="\r"?B("Invalid code point in port: "+m):n.call(this);break;case"relative path start":if(m=="\\"&&B("'\\' not allowed in path."),C="relative path",m!="/"&&m!="\\")continue;break;case"relative path":if(a==m||m=="/"||m=="\\"||!E&&(m=="?"||m=="#")){m=="\\"&&B("\\ not allowed in relative path.");var d;(d=t[v.toLowerCase()])&&(v=d),v==".."?(this._path.pop(),m!="/"&&m!="\\"&&this._path.push("")):v=="."&&m!="/"&&m!="\\"?this._path.push(""):v!="."&&(this._scheme=="file"&&this._path.length==0&&v.length==2&&c.test(v[0])&&v[1]=="|"&&(v=v[0]+":"),this._path.push(v)),v="",m=="?"?(this._query="?",C="query"):m=="#"&&(this._fragment="#",C="fragment")}else m!="	"&&m!=`
`&&m!="\r"&&(v+=s(m));break;case"query":!E&&m=="#"?(this._fragment="#",C="fragment"):a!=m&&m!="	"&&m!=`
`&&m!="\r"&&(this._query+=i(m));break;case"fragment":a!=m&&m!="	"&&m!=`
`&&m!="\r"&&(this._fragment+=m);break}M++}}function y(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function k(b,E){E!==void 0&&!(E instanceof k)&&(E=new k(String(E))),b=String(b),this._url=b,y.call(this);var _=b.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");p.call(this,_,null,E)}k.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var b="";return(this._username!=""||this._password!=null)&&(b=this._username+(this._password!=null?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+b+this.host:"")+this.pathname+this._query+this._fragment},set href(b){y.call(this),p.call(this,b)},get protocol(){return this._scheme+":"},set protocol(b){this._isInvalid||p.call(this,b+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(b){this._isInvalid||!this._isRelative||p.call(this,b,"host")},get hostname(){return this._host},set hostname(b){this._isInvalid||!this._isRelative||p.call(this,b,"hostname")},get port(){return this._port},set port(b){this._isInvalid||!this._isRelative||p.call(this,b,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(b){this._isInvalid||!this._isRelative||(this._path=[],p.call(this,b,"relative path start"))},get search(){return this._isInvalid||!this._query||this._query=="?"?"":this._query},set search(b){this._isInvalid||!this._isRelative||(this._query="?",b[0]=="?"&&(b=b.slice(1)),p.call(this,b,"query"))},get hash(){return this._isInvalid||!this._fragment||this._fragment=="#"?"":this._fragment},set hash(b){this._isInvalid||(this._fragment="#",b[0]=="#"&&(b=b.slice(1)),p.call(this,b,"fragment"))},get origin(){var b;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return b=this.host,b?this._scheme+"://"+b:""}};var $=self.URL;return $&&(k.createObjectURL=function(b){return $.createObjectURL.apply($,arguments)},k.revokeObjectURL=function(b){$.revokeObjectURL(b)}),k}var Ce=rd();var ni=U(so());var Ae=class{constructor(t="div",r=void 0,n="\u{1F551}"){let o=document.createElement(t);this.element=o,r!=null&&(this.className=r),this.textContent=n}static fromElement(t){let r=new Ae("div");return r.element=t,r}asterisk(){this.textContent="*"}lose(){this.textContent="\u274C"}win(t){if(t!=null){this.textContent="";let r=document.createElement("a");r.href=t,r.target="_blank",r.textContent="\u2705",this.element.title=t,this.element.appendChild(r)}else this.textContent="\u2705"}global(){this.textContent="\u{1F30D}"}err(){this.textContent="\u26A0\uFE0F"}empty(){this.textContent=""}get style(){return this.element.style}append(t){return t instanceof Ae&&(t=t.element),this.element.append(t)}get classList(){return this.element.classList}set title(t){this.element.title=t}set className(t){this.element.className=t}set textContent(t){this.element.textContent=t}};var xe=class{constructor(t,...r){this.parent=t;this.tag=new Ae(...r)}};var kt=class extends xe{constructor(r,...n){super(r,...n);this.parent=r;this._className="Not-set";this._tagName="Not-set"}get className(){return this._className}get tagName(){return this._tagName}check(){}checked(){}onerror(){this.tag.err()}};var We="bafybeifx7yeb55armcsxwwitkymga5xf53dxiarykms3ygqic223w5sk3m",rt="bafybeibwzifw52ttrkqlikfzext5akxu7lz4xiwjgwzmqcpdzmp3n5vnbe",ti="Hello from IPFS Gateway Checker",ri=["raw","car"];var W=class{constructor(t){this.namespace=t}log(t,...r){let[n,...o]=r,s=this.namespace!=null?`${this.namespace}.${t}: `:"";console[t](`${s}${n}`,...o)}debug(...t){this.log("debug",...t)}info(...t){this.log("info",...t)}warn(...t){this.log("warn",...t)}error(...t){this.log("error",...t)}};var{fetch:nd}=(0,ni.default)(),io=new W("Cors"),Rr=class extends kt{constructor(r){super(r,"div","Cors");this.parent=r;this._className="Cors";this._tagName="div"}async check(){let r=Date.now(),o=`${this.parent.gateway.replace(":hash",We)}?now=${r}#x-ipfs-companion-no-redirect`;try{let s=await nd(o),{status:i}=s,a=await s.text();if(this.tag.title=`Response code: ${i}`,ti===a.trim())this.tag.asterisk(),this.parent.tag.classList.add("cors");else throw io.debug("The response text did not match the expected string"),this.onerror(),new Error(`URL '${o} does not support CORS`)}catch(s){throw io.error(s),this.onerror(),s}}checked(){io.warn("Not implemented yet")}onerror(){this.tag.empty()}};var Wn={};re(Wn,{CID:()=>g,create:()=>Qs,globSource:()=>Tb,multiaddr:()=>j,urlSource:()=>qp.default});var od=e=>Promise.reject(new Error(`No base found for "${e}"`)),Lr=class{constructor(t){this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase||od;for(let r of t.bases)this.addBase(r)}addBase(t){if(this._basesByName[t.name]||this._basesByPrefix[t.prefix])throw new Error(`Codec already exists for codec "${t.name}"`);this._basesByName[t.name]=t,this._basesByPrefix[t.prefix]=t}removeBase(t){delete this._basesByName[t.name],delete this._basesByPrefix[t.prefix]}async getBase(t){if(this._basesByName[t])return this._basesByName[t];if(this._basesByPrefix[t])return this._basesByPrefix[t];let r=await this._loadBase(t);return this._basesByName[r.name]==null&&this._basesByPrefix[r.prefix]==null&&this.addBase(r),r}listBases(){return Object.values(this._basesByName)}};var sd=e=>Promise.reject(new Error(`No codec found for "${e}"`)),Or=class{constructor(t){this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||sd;for(let r of t.codecs)this.addCodec(r)}addCodec(t){if(this._codecsByName[t.name]||this._codecsByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){let r=typeof t=="string"?this._codecsByName:this._codecsByCode;if(r[t])return r[t];let n=await this._loadCodec(t);return r[t]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}};var id=e=>Promise.reject(new Error(`No hasher found for "${e}"`)),$r=class{constructor(t){this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||id;for(let r of t.hashers)this.addHasher(r)}addHasher(t){if(this._hashersByName[t.name]||this._hashersByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){let r=typeof t=="string"?this._hashersByName:this._hashersByCode;if(r[t])return r[t];let n=await this._loadHasher(t);return r[t]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}};var bo={};re(bo,{code:()=>nm,createLink:()=>ki,createNode:()=>Ti,decode:()=>sm,encode:()=>om,name:()=>rm,prepare:()=>yo,validate:()=>wo});var ad=ii,oi=128,cd=127,fd=~cd,ud=Math.pow(2,31);function ii(e,t,r){t=t||[],r=r||0;for(var n=r;e>=ud;)t[r++]=e&255|oi,e/=128;for(;e&fd;)t[r++]=e&255|oi,e>>>=7;return t[r]=e|0,ii.bytes=r-n+1,t}var ld=ao,hd=128,si=127;function ao(e,n){var r=0,n=n||0,o=0,s=n,i,a=e.length;do{if(s>=a)throw ao.bytes=0,new RangeError("Could not decode varint");i=e[s++],r+=o<28?(i&si)<<o:(i&si)*Math.pow(2,o),o+=7}while(i>=hd);return ao.bytes=s-n,r}var pd=Math.pow(2,7),dd=Math.pow(2,14),md=Math.pow(2,21),gd=Math.pow(2,28),yd=Math.pow(2,35),wd=Math.pow(2,42),bd=Math.pow(2,49),xd=Math.pow(2,56),Sd=Math.pow(2,63),Ed=function(e){return e<pd?1:e<dd?2:e<md?3:e<gd?4:e<yd?5:e<wd?6:e<bd?7:e<xd?8:e<Sd?9:10},vd={encode:ad,decode:ld,encodingLength:Ed},Td=vd,rr=Td;var nr=e=>[rr.decode(e),rr.decode.bytes],_t=(e,t,r=0)=>(rr.encode(e,t,r),t),Pt=e=>rr.encodingLength(e);var Qb=new Uint8Array(0);var ai=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ie=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var ci=e=>new TextEncoder().encode(e),fi=e=>new TextDecoder().decode(e);var nt=(e,t)=>{let r=t.byteLength,n=Pt(e),o=n+Pt(r),s=new Uint8Array(o+r);return _t(e,s,0),_t(r,s,n),s.set(t,o),new Ct(e,r,t,s)},dt=e=>{let t=Ie(e),[r,n]=nr(t),[o,s]=nr(t.subarray(n)),i=t.subarray(n+s);if(i.byteLength!==o)throw new Error("Incorrect length");return new Ct(r,o,i,t)},li=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&ai(e.bytes,t.bytes),Ct=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}};var ho={};re(ho,{base58btc:()=>ee,base58flickr:()=>Id});function kd(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),i=s.charCodeAt(0);if(r[i]!==255)throw new TypeError(s+" is ambiguous");r[i]=o}var a=e.length,c=e.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function y(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,_=0,B=0,C=b.length;B!==C&&b[B]===0;)B++,E++;for(var M=(C-B)*p+1>>>0,v=new Uint8Array(M);B!==C;){for(var se=b[B],Z=0,ie=M-1;(se!==0||Z<_)&&ie!==-1;ie--,Z++)se+=256*v[ie]>>>0,v[ie]=se%a>>>0,se=se/a>>>0;if(se!==0)throw new Error("Non-zero carry");_=Z,B++}for(var m=M-_;m!==M&&v[m]===0;)m++;for(var te=c.repeat(E);m<M;++m)te+=e.charAt(v[m]);return te}function k(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var _=0,B=0;b[E]===c;)_++,E++;for(var C=(b.length-E)*h+1>>>0,M=new Uint8Array(C);b[E];){var v=r[b.charCodeAt(E)];if(v===255)return;for(var se=0,Z=C-1;(v!==0||se<B)&&Z!==-1;Z--,se++)v+=a*M[Z]>>>0,M[Z]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");B=se,E++}if(b[E]!==" "){for(var ie=C-B;ie!==C&&M[ie]===0;)ie++;for(var m=new Uint8Array(_+(C-ie)),te=_;ie!==C;)m[te++]=M[ie++];return m}}}function $(b){var E=k(b);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:y,decodeUnsafe:k,decode:$}}var _d=kd,Pd=_d,hi=Pd;var co=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},fo=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseDecode=n}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){return pi(this,t)}},uo=class{constructor(t){this.decoders=t}or(t){return pi(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},pi=(e,t)=>new uo({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),lo=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new co(t,r,n),this.decoder=new fo(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},jr=({name:e,prefix:t,encode:r,decode:n})=>new lo(e,t,r,n),ot=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=hi(r,t);return jr({prefix:e,name:t,encode:n,decode:s=>Ie(o(s))})},Cd=(e,t,r,n)=>{let o={};for(let p=0;p<t.length;++p)o[t[p]]=p;let s=e.length;for(;e[s-1]==="=";)--s;let i=new Uint8Array(s*r/8|0),a=0,c=0,h=0;for(let p=0;p<s;++p){let y=o[e[p]];if(y===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|y,a+=r,a>=8&&(a-=8,i[h++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},Ad=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>r;)i-=r,s+=t[o&a>>i];if(i&&(s+=t[o&a<<r-i]),n)for(;s.length*r&7;)s+="=";return s},H=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>jr({prefix:t,name:e,encode(o){return Ad(o,n,r)},decode(o){return Cd(o,n,r,e)}});var ee=ot({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Id=ot({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var po={};re(po,{base32:()=>Ue,base32hex:()=>Nd,base32hexpad:()=>Ld,base32hexpadupper:()=>Od,base32hexupper:()=>Rd,base32pad:()=>Bd,base32padupper:()=>Dd,base32upper:()=>Ud,base32z:()=>$d});var Ue=H({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ud=H({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bd=H({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Dd=H({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nd=H({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Rd=H({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ld=H({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Od=H({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$d=H({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var g=class{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:zr,byteLength:zr,code:Mr,version:Mr,multihash:Mr,bytes:Mr,_baseCache:zr,asCID:zr})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==or)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==zd)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return g.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=nt(t,r);return g.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&li(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return jd(r,o,t||ee.encoder);default:return Md(r,o,t||Ue.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return qd(/^0\.0/,Gd),!!(t&&(t[mi]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof g)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:o,bytes:s}=t;return new g(r,n,o,s||di(r,n,o.bytes))}else if(t!=null&&t[mi]===!0){let{version:r,multihash:n,code:o}=t,s=dt(n);return g.create(r,o,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==or)throw new Error(`Version 0 CID must use dag-pb (code: ${or}) block encoding`);return new g(t,r,n,n.bytes)}case 1:{let o=di(t,r,n.bytes);return new g(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return g.create(0,or,t)}static createV1(t,r){return g.create(1,t,r)}static decode(t){let[r,n]=g.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=g.inspectBytes(t),n=r.size-r.multihashSize,o=Ie(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=o.subarray(r.multihashSize-r.digestSize),i=new Ct(r.multihashCode,r.digestSize,s,o);return[r.version===0?g.createV0(i):g.createV1(r.codec,i),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[y,k]=nr(t.subarray(r));return r+=k,y},o=n(),s=or;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let i=r,a=n(),c=n(),h=r+c,p=h-i;return{version:o,codec:s,multihashCode:a,digestSize:c,multihashSize:p,size:h}}static parse(t,r){let[n,o]=Fd(t,r),s=g.decode(o);return s._baseCache.set(n,t),s}},Fd=(e,t)=>{switch(e[0]){case"Q":{let r=t||ee;return[ee.prefix,r.decode(`${ee.prefix}${e}`)]}case ee.prefix:{let r=t||ee;return[ee.prefix,r.decode(e)]}case Ue.prefix:{let r=t||Ue;return[Ue.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},jd=(e,t,r)=>{let{prefix:n}=r;if(n!==ee.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},Md=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},or=112,zd=18,di=(e,t,r)=>{let n=Pt(e),o=n+Pt(t),s=new Uint8Array(o+r.byteLength);return _t(e,s,0),_t(t,s,n),s.set(r,o),s},mi=Symbol.for("@ipld/js-cid/CID"),Mr={writable:!1,configurable:!1,enumerable:!0},zr={writable:!1,enumerable:!1,configurable:!1},Hd="0.0.0-dev",qd=(e,t)=>{if(e.test(Hd))console.warn(t);else throw new Error(t)},Gd=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Vd=new TextDecoder;function mo(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function Hr(e,t){let r;[r,t]=mo(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function gi(e,t){let r;return[r,t]=mo(e,t),[r&7,r>>3,t]}function Wd(e){let t={},r=e.length,n=0;for(;n<r;){let o,s;if([o,s,n]=gi(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Hr(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=Hr(e,n),t.Name=Vd.decode(i)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=mo(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function yi(e){let t=e.length,r=0,n,o=!1,s;for(;r<t;){let a,c;if([a,c,r]=gi(e,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(c===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=Hr(e,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let h;[h,r]=Hr(e,r),n.push(Wd(h))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let i={};return s&&(i.Data=s),i.Links=n||[],i}var bi=new TextEncoder,wi=2**32,Jd=2**31;function Kd(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=sr(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=bi.encode(e.Name);r-=n.length,t.set(n,r),r=sr(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=sr(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function xi(e){let t=Qd(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=sr(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let s=Kd(e.Links[o],r.subarray(0,n));n-=s,n=sr(r,n,s)-1,r[n]=18}return r}function Xd(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+At(r)}if(typeof e.Name=="string"){let r=bi.encode(e.Name).length;t+=1+r+At(r)}return typeof e.Tsize=="number"&&(t+=1+At(e.Tsize)),t}function Qd(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+At(r)}if(e.Links)for(let r of e.Links){let n=Xd(r);t+=1+n+At(n)}return t}function sr(e,t,r){t-=At(r);let n=t;for(;r>=Jd;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function At(e){return e%2===0&&e++,Math.floor((Yd(e)+6)/7)}function Yd(e){let t=0;return e>=wi&&(e=Math.floor(e/wi),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+Zd[e]}var Zd=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];var em=["Data","Links"],tm=["Hash","Name","Tsize"],go=new TextEncoder;function Ei(e,t){if(e===t)return 0;let r=e.Name?go.encode(e.Name):[],n=t.Name?go.encode(t.Name):[],o=r.length,s=n.length;for(let i=0,a=Math.min(o,s);i<a;++i)if(r[i]!==n[i]){o=r[i],s=n[i];break}return o<s?-1:s<o?1:0}function Si(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function vi(e){if(typeof e.asCID=="object"){let r=g.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=g.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=g.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=g.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function yo(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=go.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(vi),t.Links.sort(Ei);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function wo(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!Si(e,em))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!Si(r,tm))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&Ei(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function Ti(e,t=[]){return yo({Data:e,Links:t})}function ki(e,t,r){return vi({Hash:r,Name:e,Tsize:t})}var rm="dag-pb",nm=112;function om(e){wo(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),xi(t)}function sm(e){let t=yi(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=g.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}var tn={};re(tn,{code:()=>jm,decode:()=>Io,encode:()=>Ao,name:()=>Fm});var im=["string","number","bigint","symbol"],am=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function _i(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(im.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(cm(e))return"Buffer";let r=fm(e);return r||"Object"}function cm(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function fm(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(am.includes(t))return t}var l=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};l.uint=new l(0,"uint",!0);l.negint=new l(1,"negint",!0);l.bytes=new l(2,"bytes",!0);l.string=new l(3,"string",!0);l.array=new l(4,"array",!1);l.map=new l(5,"map",!1);l.tag=new l(6,"tag",!1);l.float=new l(7,"float",!0);l.false=new l(7,"false",!0);l.true=new l(7,"true",!0);l.null=new l(7,"null",!0);l.undefined=new l(7,"undefined",!0);l.break=new l(7,"break",!0);var w=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var It=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",um=new TextDecoder,lm=new TextEncoder;function qr(e){return It&&globalThis.Buffer.isBuffer(e)}function ir(e){return e instanceof Uint8Array?qr(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ii=It?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):Ci(e,t,r):(e,t,r)=>r-t>64?um.decode(e.subarray(t,r)):Ci(e,t,r),Gr=It?e=>e.length>64?globalThis.Buffer.from(e):Pi(e):e=>e.length>64?lm.encode(e):Pi(e),Fe=e=>Uint8Array.from(e),Ut=It?(e,t,r)=>qr(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ui=It?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),ir(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Bi=It?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Di(e,t){if(qr(e)&&qr(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Pi(e,t=1/0){let r,n=e.length,o=null,s=[];for(let i=0;i<n;++i){if(r=e.charCodeAt(i),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Ci(e,t,r){let n=[];for(;t<r;){let o=e[t],s=null,i=o>239?4:o>223?3:o>191?2:1;if(t+i<=r){let a,c,h,p;switch(i){case 1:o<128&&(s=o);break;case 2:a=e[t+1],(a&192)===128&&(p=(o&31)<<6|a&63,p>127&&(s=p));break;case 3:a=e[t+1],c=e[t+2],(a&192)===128&&(c&192)===128&&(p=(o&15)<<12|(a&63)<<6|c&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:a=e[t+1],c=e[t+2],h=e[t+3],(a&192)===128&&(c&192)===128&&(h&192)===128&&(p=(o&15)<<18|(a&63)<<12|(c&63)<<6|h&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,i=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=i}return xo(n)}var Ai=4096;function xo(e){let t=e.length;if(t<=Ai)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ai));return r}var hm=256,ar=class{constructor(t=hm){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=Bi(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Ut(n,0,this.cursor)}else r=Ui(this.chunks,this.cursor);return t&&this.reset(),r}};var T="CBOR decode error:",Je="CBOR encode error:",cr=[];cr[23]=1;cr[24]=2;cr[25]=3;cr[26]=5;cr[27]=9;function Ke(e,t,r){if(e.length-t<r)throw new Error(`${T} not enough data for type`)}var ne=[24,256,65536,4294967296,BigInt("18446744073709551616")];function pe(e,t,r){Ke(e,t,1);let n=e[t];if(r.strict===!0&&n<ne[0])throw new Error(`${T} integer encoded in more bytes than necessary (strict decode)`);return n}function de(e,t,r){Ke(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<ne[1])throw new Error(`${T} integer encoded in more bytes than necessary (strict decode)`);return n}function me(e,t,r){Ke(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<ne[2])throw new Error(`${T} integer encoded in more bytes than necessary (strict decode)`);return n}function ge(e,t,r){Ke(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<ne[3])throw new Error(`${T} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${T} integers outside of the safe integer range are not supported`)}function Ni(e,t,r,n){return new w(l.uint,pe(e,t+1,n),2)}function Ri(e,t,r,n){return new w(l.uint,de(e,t+1,n),3)}function Li(e,t,r,n){return new w(l.uint,me(e,t+1,n),5)}function Oi(e,t,r,n){return new w(l.uint,ge(e,t+1,n),9)}function Se(e,t){return ce(e,0,t.value)}function ce(e,t,r){if(r<ne[0]){let n=Number(r);e.push([t|n])}else if(r<ne[1]){let n=Number(r);e.push([t|24,n])}else if(r<ne[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<ne[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<ne[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),i=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=i&255,i=i>>8,o[3]=i&255,i=i>>8,o[2]=i&255,i=i>>8,o[1]=i&255,e.push(o)}else throw new Error(`${T} encountered BigInt larger than allowable range`)}}Se.encodedSize=function(t){return ce.encodedSize(t.value)};ce.encodedSize=function(t){return t<ne[0]?1:t<ne[1]?2:t<ne[2]?3:t<ne[3]?5:9};Se.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function $i(e,t,r,n){return new w(l.negint,-1-pe(e,t+1,n),2)}function Fi(e,t,r,n){return new w(l.negint,-1-de(e,t+1,n),3)}function ji(e,t,r,n){return new w(l.negint,-1-me(e,t+1,n),5)}var So=BigInt(-1),Mi=BigInt(1);function zi(e,t,r,n){let o=ge(e,t+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new w(l.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${T} integers outside of the safe integer range are not supported`);return new w(l.negint,So-BigInt(o),9)}function Vr(e,t){let r=t.value,n=typeof r=="bigint"?r*So-Mi:r*-1-1;ce(e,t.type.majorEncoded,n)}Vr.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*So-Mi:r*-1-1;return n<ne[0]?1:n<ne[1]?2:n<ne[2]?3:n<ne[3]?5:9};Vr.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function fr(e,t,r,n){Ke(e,t,r+n);let o=Ut(e,t+r,t+r+n);return new w(l.bytes,o,r+n)}function Hi(e,t,r,n){return fr(e,t,1,r)}function qi(e,t,r,n){return fr(e,t,2,pe(e,t+1,n))}function Gi(e,t,r,n){return fr(e,t,3,de(e,t+1,n))}function Vi(e,t,r,n){return fr(e,t,5,me(e,t+1,n))}function Wi(e,t,r,n){let o=ge(e,t+1,n);if(typeof o=="bigint")throw new Error(`${T} 64-bit integer bytes lengths not supported`);return fr(e,t,9,o)}function Wr(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===l.string?Gr(e.value):e.value),e.encodedBytes}function Bt(e,t){let r=Wr(t);ce(e,t.type.majorEncoded,r.length),e.push(r)}Bt.encodedSize=function(t){let r=Wr(t);return ce.encodedSize(r.length)+r.length};Bt.compareTokens=function(t,r){return dm(Wr(t),Wr(r))};function dm(e,t){return e.length<t.length?-1:e.length>t.length?1:Di(e,t)}function ur(e,t,r,n,o){let s=r+n;Ke(e,t,s);let i=new w(l.string,Ii(e,t+r,t+s),s);return o.retainStringBytes===!0&&(i.byteValue=Ut(e,t+r,t+s)),i}function Ji(e,t,r,n){return ur(e,t,1,r,n)}function Ki(e,t,r,n){return ur(e,t,2,pe(e,t+1,n),n)}function Xi(e,t,r,n){return ur(e,t,3,de(e,t+1,n),n)}function Qi(e,t,r,n){return ur(e,t,5,me(e,t+1,n),n)}function Yi(e,t,r,n){let o=ge(e,t+1,n);if(typeof o=="bigint")throw new Error(`${T} 64-bit integer string lengths not supported`);return ur(e,t,9,o,n)}var Zi=Bt;function Dt(e,t,r,n){return new w(l.array,n,r)}function ea(e,t,r,n){return Dt(e,t,1,r)}function ta(e,t,r,n){return Dt(e,t,2,pe(e,t+1,n))}function ra(e,t,r,n){return Dt(e,t,3,de(e,t+1,n))}function na(e,t,r,n){return Dt(e,t,5,me(e,t+1,n))}function oa(e,t,r,n){let o=ge(e,t+1,n);if(typeof o=="bigint")throw new Error(`${T} 64-bit integer array lengths not supported`);return Dt(e,t,9,o)}function sa(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${T} indefinite length items not allowed`);return Dt(e,t,1,1/0)}function Jr(e,t){ce(e,l.array.majorEncoded,t.value)}Jr.compareTokens=Se.compareTokens;Jr.encodedSize=function(t){return ce.encodedSize(t.value)};function Nt(e,t,r,n){return new w(l.map,n,r)}function ia(e,t,r,n){return Nt(e,t,1,r)}function aa(e,t,r,n){return Nt(e,t,2,pe(e,t+1,n))}function ca(e,t,r,n){return Nt(e,t,3,de(e,t+1,n))}function fa(e,t,r,n){return Nt(e,t,5,me(e,t+1,n))}function ua(e,t,r,n){let o=ge(e,t+1,n);if(typeof o=="bigint")throw new Error(`${T} 64-bit integer map lengths not supported`);return Nt(e,t,9,o)}function la(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${T} indefinite length items not allowed`);return Nt(e,t,1,1/0)}function Kr(e,t){ce(e,l.map.majorEncoded,t.value)}Kr.compareTokens=Se.compareTokens;Kr.encodedSize=function(t){return ce.encodedSize(t.value)};function ha(e,t,r,n){return new w(l.tag,r,1)}function pa(e,t,r,n){return new w(l.tag,pe(e,t+1,n),2)}function da(e,t,r,n){return new w(l.tag,de(e,t+1,n),3)}function ma(e,t,r,n){return new w(l.tag,me(e,t+1,n),5)}function ga(e,t,r,n){return new w(l.tag,ge(e,t+1,n),9)}function Xr(e,t){ce(e,l.tag.majorEncoded,t.value)}Xr.compareTokens=Se.compareTokens;Xr.encodedSize=function(t){return ce.encodedSize(t.value)};var xm=20,Sm=21,Em=22,vm=23;function ya(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${T} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new w(l.null,null,1):new w(l.undefined,void 0,1)}function wa(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${T} indefinite length items not allowed`);return new w(l.break,void 0,1)}function Eo(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${T} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${T} Infinity values are not supported`)}return new w(l.float,e,t)}function ba(e,t,r,n){return Eo(vo(e,t+1),3,n)}function xa(e,t,r,n){return Eo(To(e,t+1),5,n)}function Sa(e,t,r,n){return Eo(ka(e,t+1),9,n)}function Qr(e,t,r){let n=t.value;if(n===!1)e.push([l.float.majorEncoded|xm]);else if(n===!0)e.push([l.float.majorEncoded|Sm]);else if(n===null)e.push([l.float.majorEncoded|Em]);else if(n===void 0)e.push([l.float.majorEncoded|vm]);else{let o,s=!1;(!r||r.float64!==!0)&&(va(n),o=vo(Be,1),n===o||Number.isNaN(n)?(Be[0]=249,e.push(Be.slice(0,3)),s=!0):(Ta(n),o=To(Be,1),n===o&&(Be[0]=250,e.push(Be.slice(0,5)),s=!0))),s||(Tm(n),o=ka(Be,1),Be[0]=251,e.push(Be.slice(0,9)))}}Qr.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){va(n);let o=vo(Be,1);if(n===o||Number.isNaN(n))return 3;if(Ta(n),o=To(Be,1),n===o)return 5}return 9};var Ea=new ArrayBuffer(9),Ee=new DataView(Ea,1),Be=new Uint8Array(Ea,0);function va(e){if(e===1/0)Ee.setUint16(0,31744,!1);else if(e===-1/0)Ee.setUint16(0,64512,!1);else if(Number.isNaN(e))Ee.setUint16(0,32256,!1);else{Ee.setFloat32(0,e);let t=Ee.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Ee.setUint16(0,31744,!1);else if(r===0)Ee.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Ee.setUint16(0,0):o<-14?Ee.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Ee.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function vo(e,t){if(e.length-t<2)throw new Error(`${T} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function Ta(e){Ee.setFloat32(0,e,!1)}function To(e,t){if(e.length-t<4)throw new Error(`${T} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Tm(e){Ee.setFloat64(0,e,!1)}function ka(e,t){if(e.length-t<8)throw new Error(`${T} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Qr.compareTokens=Se.compareTokens;function O(e,t,r){throw new Error(`${T} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Yr(e){return()=>{throw new Error(`${T} ${e}`)}}var S=[];for(let e=0;e<=23;e++)S[e]=O;S[24]=Ni;S[25]=Ri;S[26]=Li;S[27]=Oi;S[28]=O;S[29]=O;S[30]=O;S[31]=O;for(let e=32;e<=55;e++)S[e]=O;S[56]=$i;S[57]=Fi;S[58]=ji;S[59]=zi;S[60]=O;S[61]=O;S[62]=O;S[63]=O;for(let e=64;e<=87;e++)S[e]=Hi;S[88]=qi;S[89]=Gi;S[90]=Vi;S[91]=Wi;S[92]=O;S[93]=O;S[94]=O;S[95]=Yr("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)S[e]=Ji;S[120]=Ki;S[121]=Xi;S[122]=Qi;S[123]=Yi;S[124]=O;S[125]=O;S[126]=O;S[127]=Yr("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)S[e]=ea;S[152]=ta;S[153]=ra;S[154]=na;S[155]=oa;S[156]=O;S[157]=O;S[158]=O;S[159]=sa;for(let e=160;e<=183;e++)S[e]=ia;S[184]=aa;S[185]=ca;S[186]=fa;S[187]=ua;S[188]=O;S[189]=O;S[190]=O;S[191]=la;for(let e=192;e<=215;e++)S[e]=ha;S[216]=pa;S[217]=da;S[218]=ma;S[219]=ga;S[220]=O;S[221]=O;S[222]=O;S[223]=O;for(let e=224;e<=243;e++)S[e]=Yr("simple values are not supported");S[244]=O;S[245]=O;S[246]=O;S[247]=ya;S[248]=Yr("simple values are not supported");S[249]=ba;S[250]=xa;S[251]=Sa;S[252]=O;S[253]=O;S[254]=O;S[255]=wa;var De=[];for(let e=0;e<24;e++)De[e]=new w(l.uint,e,1);for(let e=-1;e>=-24;e--)De[31-e]=new w(l.negint,e,1);De[64]=new w(l.bytes,new Uint8Array(0),1);De[96]=new w(l.string,"",1);De[128]=new w(l.array,0,1);De[160]=new w(l.map,0,1);De[244]=new w(l.false,!1,1);De[245]=new w(l.true,!0,1);De[246]=new w(l.null,null,1);function _a(e){switch(e.type){case l.false:return Fe([244]);case l.true:return Fe([245]);case l.null:return Fe([246]);case l.bytes:return e.value.length?void 0:Fe([64]);case l.string:return e.value===""?Fe([96]):void 0;case l.array:return e.value===0?Fe([128]):void 0;case l.map:return e.value===0?Fe([160]):void 0;case l.uint:return e.value<24?Fe([Number(e.value)]):void 0;case l.negint:if(e.value>=-24)return Fe([31-Number(e.value)])}}var _m={float64:!1,mapSorter:Am,quickEncodeToken:_a};function Pm(){let e=[];return e[l.uint.major]=Se,e[l.negint.major]=Vr,e[l.bytes.major]=Bt,e[l.string.major]=Zi,e[l.array.major]=Jr,e[l.map.major]=Kr,e[l.tag.major]=Xr,e[l.float.major]=Qr,e}var Pa=Pm(),ko=new ar,Rt=class{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${Je} object contains circular references`);return new Rt(r,t)}},st={null:new w(l.null,null),undefined:new w(l.undefined,void 0),true:new w(l.true,!0),false:new w(l.false,!1),emptyArray:new w(l.array,0),emptyMap:new w(l.map,0)},it={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new w(l.float,e):e>=0?new w(l.uint,e):new w(l.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new w(l.uint,e):new w(l.negint,e)},Uint8Array(e,t,r,n){return new w(l.bytes,e)},string(e,t,r,n){return new w(l.string,e)},boolean(e,t,r,n){return e?st.true:st.false},null(e,t,r,n){return st.null},undefined(e,t,r,n){return st.undefined},ArrayBuffer(e,t,r,n){return new w(l.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new w(l.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[st.emptyArray,new w(l.break)]:st.emptyArray;n=Rt.createCheck(n,e);let o=[],s=0;for(let i of e)o[s++]=Zr(i,r,n);return r.addBreakTokens?[new w(l.array,e.length),o,new w(l.break)]:[new w(l.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),i=o?e.size:s.length;if(!i)return r.addBreakTokens===!0?[st.emptyMap,new w(l.break)]:st.emptyMap;n=Rt.createCheck(n,e);let a=[],c=0;for(let h of s)a[c++]=[Zr(h,r,n),Zr(o?e.get(h):e[h],r,n)];return Cm(a,r),r.addBreakTokens?[new w(l.map,i),a,new w(l.break)]:[new w(l.map,i),a]}};it.Map=it.Object;it.Buffer=it.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))it[`${e}Array`]=it.DataView;function Zr(e,t={},r){let n=_i(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||it[n];if(typeof o=="function"){let i=o(e,n,t,r);if(i!=null)return i}let s=it[n];if(!s)throw new Error(`${Je} unsupported type: ${n}`);return s(e,n,t,r)}function Cm(e,t){t.mapSorter&&e.sort(t.mapSorter)}function Am(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=Pa[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Ca(e,t,r,n){if(Array.isArray(t))for(let o of t)Ca(e,o,r,n);else r[t.type.major](e,t,n)}function _o(e,t,r){let n=Zr(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let i=s.encodedSize(n,r),a=new ar(i);if(s(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return ir(a.chunks[0])}}return ko.reset(),Ca(ko,n,t,r),ko.toBytes(!0)}function Po(e,t){return t=Object.assign({},_m,t),_o(e,Pa,t)}var Im={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Co=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){let t=this.data[this.pos],r=De[t];if(r===void 0){let n=S[t];if(!n)throw new Error(`${T} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}},lr=Symbol.for("DONE"),en=Symbol.for("BREAK");function Um(e,t,r){let n=[];for(let o=0;o<e.value;o++){let s=hr(t,r);if(s===en){if(e.value===1/0)break;throw new Error(`${T} got unexpected break to lengthed array`)}if(s===lr)throw new Error(`${T} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function Bm(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let i=0;i<e.value;i++){let a=hr(t,r);if(a===en){if(e.value===1/0)break;throw new Error(`${T} got unexpected break to lengthed map`)}if(a===lr)throw new Error(`${T} found map but not enough entries (got ${i} [no key], expected ${e.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${T} non-string keys not supported (got ${typeof a})`);let c=hr(t,r);if(c===lr)throw new Error(`${T} found map but not enough entries (got ${i} [no value], expected ${e.value})`);n?s.set(a,c):o[a]=c}return n?s:o}function hr(e,t){if(e.done())return lr;let r=e.next();if(r.type===l.break)return en;if(r.type.terminal)return r.value;if(r.type===l.array)return Um(r,e,t);if(r.type===l.map)return Bm(r,e,t);if(r.type===l.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=hr(e,t);return t.tags[r.value](n)}throw new Error(`${T} tag not supported (${r.value})`)}throw new Error("unsupported")}function pr(e,t){if(!(e instanceof Uint8Array))throw new Error(`${T} data to decode must be a Uint8Array`);t=Object.assign({},Im,t);let r=t.tokenizer||new Co(e,t),n=hr(r,t);if(n===lr)throw new Error(`${T} did not find any content to decode`);if(n===en)throw new Error(`${T} got unexpected break`);if(!r.done())throw new Error(`${T} too many terminals, data makes no sense`);return n}var Aa=42;function Nm(e){if(e.asCID!==e)return null;let t=g.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new w(l.tag,Aa),new w(l.bytes,r)]}function Rm(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Lm(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Om={float64:!0,typeEncoders:{Object:Nm,undefined:Rm,number:Lm}};function $m(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return g.decode(e.subarray(1))}var Ia={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Ia.tags[Aa]=$m;var Fm="dag-cbor",jm=113,Ao=e=>Po(e,Om),Io=e=>pr(e,Ia);var Fo={};re(Fo,{code:()=>Qm,decode:()=>Zm,encode:()=>Ym,name:()=>Xm});var Bo=({name:e,code:t,encode:r})=>new Uo(e,t,r),Uo=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?nt(this.code,r):r.then(n=>nt(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Do={};re(Do,{base64:()=>Lt,base64pad:()=>Mm,base64url:()=>at,base64urlpad:()=>zm});var Lt=H({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mm=H({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),at=H({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zm=H({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var No=class extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){let r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===l.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===l.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[l.uint.major](t,r){this.prefix(t);let n=String(r.value),o=[];for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);t.push(o)}[l.negint.major](t,r){this[l.uint.major](t,r)}[l.bytes.major](t,r){throw new Error(`${Je} unsupported type: Uint8Array`)}[l.string.major](t,r){this.prefix(t);let n=Gr(JSON.stringify(r.value));t.push(n.length>32?ir(n):n)}[l.array.major](t,r){this.prefix(t),this.inRecursive.push({type:l.array,elements:0}),t.push([91])}[l.map.major](t,r){this.prefix(t),this.inRecursive.push({type:l.map,elements:0}),t.push([123])}[l.tag.major](t,r){}[l.float.major](t,r){if(r.type.name==="break"){let i=this.inRecursive.pop();if(i){if(i.type===l.array)t.push([93]);else if(i.type===l.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${Je} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}let n=String(r.value),o=[],s=!1;for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i),!s&&(o[i]===46||o[i]===101||o[i]===69)&&(s=!0);s||(o.push(46),o.push(48)),t.push(o)}};function Hm(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${Je} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==l.string||n.type!==l.string)throw new Error(`${Je} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${Je} unexpected duplicate map keys, this is not supported`)}var qm={addBreakTokens:!0,mapSorter:Hm};function Ro(e,t){return t=Object.assign({},qm,t),_o(e,new No,t)}var Ot=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${T} unexpected end of input at position ${this.pos}`);for(let r=0;r<t.length;r++)if(this.data[this.pos++]!==t[r])throw new Error(`${T} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){let t=this.pos,r=!1,n=!1,o=a=>{for(;!this.done();){let c=this.ch();if(a.includes(c))this.pos++;else break}};if(this.ch()===45&&(r=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,n=!0;else return new w(l.uint,0,this.pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this.pos===t+1)throw new Error(`${T} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${T} unexpected token at position ${this.pos}`);n=!0,this.pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,o([48,49,50,51,52,53,54,55,56,57]));let s=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),i=parseFloat(s);return n?new w(l.float,i,this.pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(i)?new w(i>=0?l.uint:l.negint,i,this.pos-t):new w(i>=0?l.uint:l.negint,BigInt(s),this.pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${T} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let s=this.pos,i=0;s<this.data.length&&i<65536;s++,i++){let a=this.data[s];if(a===92||a<32||a>=128)break;if(a===34){let c=String.fromCharCode.apply(null,this.data.subarray(this.pos,s));return this.pos=s+1,new w(l.string,c,i)}}let t=this.pos,r=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${T} unexpected end of unicode escape sequence at position ${this.pos}`);let s=0;for(let i=0;i<4;i++){let a=this.ch();if(a>=48&&a<=57)a-=48;else if(a>=97&&a<=102)a=a-97+10;else if(a>=65&&a<=70)a=a-65+10;else throw new Error(`${T} unexpected unicode escape character at position ${this.pos}`);s=s*16+a,this.pos++}return s},o=()=>{let s=this.ch(),i=null,a=s>239?4:s>223?3:s>191?2:1;if(this.pos+a>this.data.length)throw new Error(`${T} unexpected unicode sequence at position ${this.pos}`);let c,h,p,y;switch(a){case 1:s<128&&(i=s);break;case 2:c=this.data[this.pos+1],(c&192)===128&&(y=(s&31)<<6|c&63,y>127&&(i=y));break;case 3:c=this.data[this.pos+1],h=this.data[this.pos+2],(c&192)===128&&(h&192)===128&&(y=(s&15)<<12|(c&63)<<6|h&63,y>2047&&(y<55296||y>57343)&&(i=y));break;case 4:c=this.data[this.pos+1],h=this.data[this.pos+2],p=this.data[this.pos+3],(c&192)===128&&(h&192)===128&&(p&192)===128&&(y=(s&15)<<18|(c&63)<<12|(h&63)<<6|p&63,y>65535&&y<1114112&&(i=y))}i===null?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|i&1023),r.push(i),this.pos+=a};for(;!this.done();){let s=this.ch(),i;switch(s){case 92:if(this.pos++,this.done())throw new Error(`${T} unexpected string termination at position ${this.pos}`);switch(i=this.ch(),this.pos++,i){case 34:case 39:case 92:case 47:r.push(i);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${T} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new w(l.string,xo(r),this.pos-t);default:if(s<32)throw new Error(`${T} invalid control character at position ${this.pos}`);s<128?(r.push(s),this.pos++):o()}}throw new Error(`${T} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new w(l.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new w(l.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new w(l.null,null,4);case 102:return this.expect([102,97,108,115,101]),new w(l.false,!1,5);case 116:return this.expect([116,114,117,101]),new w(l.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${T} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new w(l.break,void 0,1);if(this.ch()!==44)throw new Error(`${T} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new w(l.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new w(l.break,void 0,1);if(this.ch()!==44)throw new Error(`${T} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new w(l.break,void 0,1);let t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${T} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${T} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}};function Lo(e,t){return t=Object.assign({tokenizer:new Ot(e,t)},t),pr(e,t)}function Vm(e){if(e.asCID!==e)return null;let t=g.asCID(e);if(!t)return null;let r=t.toString();return[new w(l.map,1/0,1),new w(l.string,"/",1),new w(l.string,r,r.length),new w(l.break,void 0,1)]}function Ba(e){let t=Lt.encode(e).slice(1);return[new w(l.map,1/0,1),new w(l.string,"/",1),new w(l.map,1/0,1),new w(l.string,"bytes",5),new w(l.string,t,t.length),new w(l.break,void 0,1),new w(l.break,void 0,1)]}function Wm(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Jm(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Km={typeEncoders:{Object:Vm,Uint8Array:Ba,Buffer:Ba,undefined:Wm,number:Jm}},Oo=class extends Ot{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let t=this._next();if(t.type===l.map){let r=this._next();if(r.type===l.string&&r.value==="/"){let n=this._next();if(n.type===l.string){if(this._next().type!==l.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new w(l.tag,42,0)}if(n.type===l.map){let o=this._next();if(o.type===l.string&&o.value==="bytes"){let s=this._next();if(s.type===l.string){for(let a=0;a<2;a++)if(this._next().type!==l.break)throw new Error("Invalid encoded Bytes form");let i=Lt.decode(`m${s.value}`);return new w(l.bytes,i,s.value.length)}this.tokenBuffer.push(s)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}},$o={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};$o.tags[42]=g.parse;var Xm="dag-json",Qm=297,Ym=e=>Ro(e,Km),Zm=e=>{let t=Object.assign($o,{tokenizer:new Oo(e,$o)});return Lo(e,t)};var jo={};re(jo,{code:()=>ag,decode:()=>lg,encode:()=>ug,name:()=>ig,toGeneral:()=>Ma});function Ne(e){return at.encode(e).slice(1)}function ve(e){return at.decode(`u${e}`)}function Da(e){let[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:g.decode(ve(r))}}function eg(e){let t={signature:ve(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=ve(e.protected)),t}function Na(e){let t=ve(e.payload);try{g.decode(t)}catch{throw new Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(eg)}}function tg(e){let t={signature:Ne(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=Ne(e.protected)),t}function Ra(e){let t={payload:Ne(e.payload),signatures:e.signatures.map(tg)};return t.link=g.decode(new Uint8Array(e.payload)),t}function La(e){let[t,r,n,o,s]=e,i={ciphertext:o,iv:n,protected:t,tag:s};return r&&(i.recipients=[{encrypted_key:r}]),i}function ng(e){let t={};return e.encrypted_key&&(t.encrypted_key=ve(e.encrypted_key)),e.header&&(t.header=e.header),t}function Oa(e){let t={ciphertext:ve(e.ciphertext),protected:ve(e.protected),iv:ve(e.iv),tag:ve(e.tag)};return e.aad&&(t.aad=ve(e.aad)),e.recipients&&(t.recipients=e.recipients.map(ng)),e.unprotected&&(t.unprotected=e.unprotected),t}function og(e){let t={};return e.encrypted_key&&(t.encrypted_key=Ne(e.encrypted_key)),e.header&&(t.header=e.header),t}function $a(e){let t={ciphertext:Ne(e.ciphertext),protected:Ne(e.protected),iv:Ne(e.iv),tag:Ne(e.tag)};return e.aad&&(t.aad=Ne(e.aad)),e.recipients&&(t.recipients=e.recipients.map(og)),e.unprotected&&(t.unprotected=e.unprotected),t}var ig="dag-jose",ag=133;function Fa(e){return"payload"in e&&typeof e.payload=="string"&&"signatures"in e&&Array.isArray(e.signatures)}function cg(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function fg(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function ja(e){return"ciphertext"in e&&typeof e.ciphertext=="string"&&"iv"in e&&typeof e.iv=="string"&&"protected"in e&&typeof e.protected=="string"&&"tag"in e&&typeof e.tag=="string"}function Ma(e){if(typeof e=="string"){let t=e.split(".");if(t.length===3)return Da(t);if(t.length===5)return La(t);throw new Error("Not a valid JOSE string")}if(Fa(e)||ja(e))return e;throw new Error("Not a valid unencoded JOSE object")}function ug(e){typeof e=="string"&&(e=Ma(e));let t;if(Fa(e))t=Na(e);else if(ja(e))t=Oa(e);else throw new Error("Not a valid JOSE object");return new Uint8Array(Ao(t))}function lg(e){let t;try{t=Io(e)}catch{throw new Error("Not a valid DAG-JOSE object")}if(cg(t))return Ra(t);if(fg(t))return $a(t);throw new Error("Not a valid DAG-JOSE object")}var Mo={};re(Mo,{identity:()=>yt});var za=0,hg="identity",Ha=Ie,pg=e=>nt(za,Ha(e)),yt={code:za,name:hg,encode:Ha,digest:pg};var zo={};re(zo,{identity:()=>dg});var dg=jr({prefix:"\0",name:"identity",encode:e=>fi(e),decode:e=>ci(e)});var Ho={};re(Ho,{base2:()=>mg});var mg=H({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qo={};re(qo,{base8:()=>gg});var gg=H({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Go={};re(Go,{base10:()=>yg});var yg=ot({prefix:"9",name:"base10",alphabet:"0123456789"});var Vo={};re(Vo,{base16:()=>wg,base16upper:()=>bg});var wg=H({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bg=H({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wo={};re(Wo,{base36:()=>xg,base36upper:()=>Sg});var xg=ot({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sg=ot({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jo={};re(Jo,{sha256:()=>rn,sha512:()=>Eg});var qa=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),rn=Bo({name:"sha2-256",code:18,encode:qa("SHA-256")}),Eg=Bo({name:"sha2-512",code:19,encode:qa("SHA-512")});var Ko={};re(Ko,{code:()=>Tg,decode:()=>_g,encode:()=>kg,name:()=>vg});var vg="raw",Tg=85,kg=e=>Ie(e),_g=e=>Ie(e);var Xo={};re(Xo,{code:()=>Ig,decode:()=>Bg,encode:()=>Ug,name:()=>Ag});var Pg=new TextEncoder,Cg=new TextDecoder,Ag="json",Ig=512,Ug=e=>Pg.encode(JSON.stringify(e)),Bg=e=>JSON.parse(Cg.decode(e));var je={...zo,...Ho,...qo,...Go,...Vo,...po,...Wo,...ho,...Do},Ga={...Jo,...Mo},Va={raw:Ko,json:Xo};var Wa="[a-fA-F\\d:]",ct=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${Wa})|(?<=${Wa})(?=\\s|$))`:"",Re="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",J="[a-fA-F\\d]{1,4}",nn=`
(?:
(?:${J}:){7}(?:${J}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${J}:){6}(?:${Re}|:${J}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${J}:){5}(?::${Re}|(?::${J}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${J}:){4}(?:(?::${J}){0,1}:${Re}|(?::${J}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${J}:){3}(?:(?::${J}){0,2}:${Re}|(?::${J}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${J}:){2}(?:(?::${J}){0,3}:${Re}|(?::${J}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${J}:){1}(?:(?::${J}){0,4}:${Re}|(?::${J}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${J}){0,5}:${Re}|(?::${J}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Dg=new RegExp(`(?:^${Re}$)|(?:^${nn}$)`),Ng=new RegExp(`^${Re}$`),Rg=new RegExp(`^${nn}$`),Qo=e=>e&&e.exact?Dg:new RegExp(`(?:${ct(e)}${Re}${ct(e)})|(?:${ct(e)}${nn}${ct(e)})`,"g");Qo.v4=e=>e&&e.exact?Ng:new RegExp(`${ct(e)}${Re}${ct(e)}`,"g");Qo.v6=e=>e&&e.exact?Rg:new RegExp(`${ct(e)}${nn}${ct(e)}`,"g");var on=Qo;function Yo(e){let t=(...r)=>e(...r);return Object.defineProperty(t,"name",{value:`functionTimeout(${e.name||"<anonymous>"})`,configurable:!0}),t}function Ja(){return!1}var{toString:Lg}=Object.prototype;function Zo(e){return Lg.call(e)==="[object RegExp]"}var Ka={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function es(e,t={}){if(!Zo(e))throw new TypeError("Expected a RegExp instance");let r=Object.keys(Ka).map(o=>(typeof t[o]=="boolean"?t[o]:e[o])?Ka[o]:"").join(""),n=new RegExp(t.source||e.source,r);return n.lastIndex=typeof t.lastIndex=="number"?t.lastIndex:e.lastIndex,n}function sn(e,t,{timeout:r}={}){try{return Yo(()=>es(e).test(t),{timeout:r})()}catch(n){if(Ja(n))return!1;throw n}}var Og=15,Xa=45,ts={timeout:400};function an(e){return sn(on({exact:!0}),e.slice(0,Xa),ts)}function Qa(e){return sn(on.v6({exact:!0}),e.slice(0,Xa),ts)}function Ya(e){return sn(on.v4({exact:!0}),e.slice(0,Og),ts)}function cn(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function ec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Za=ec("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),rs=ec("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=cn(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),$g={utf8:Za,"utf-8":Za,hex:je.base16,latin1:rs,ascii:rs,binary:rs,...je},fn=$g;function q(e,t="utf8"){let r=fn[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var tc=Ya,Fg=Qa,ns=function(e){let t=0;if(e=e.toString().trim(),tc(e)){let r=new Uint8Array(t+4);return e.split(/\./g).forEach(n=>{r[t++]=parseInt(n,10)&255}),r}if(Fg(e)){let r=e.split(":",8),n;for(n=0;n<r.length;n++){let s=tc(r[n]),i;s&&(i=ns(r[n]),r[n]=q(i.slice(0,2),"base16")),i!=null&&++n<8&&r.splice(n,0,q(i.slice(2,4),"base16"))}if(r[0]==="")for(;r.length<8;)r.unshift("0");else if(r[r.length-1]==="")for(;r.length<8;)r.push("0");else if(r.length<8){for(n=0;n<r.length&&r[n]!=="";n++);let s=[n,1];for(n=9-r.length;n>0;n--)s.push("0");r.splice.apply(r,s)}let o=new Uint8Array(t+16);for(n=0;n<r.length;n++){let s=parseInt(r[n],16);o[t++]=s>>8&255,o[t++]=s&255}return o}throw new Error("invalid ip address")},rc=function(e,t=0,r){t=~~t,r=r??e.length-t;let n=new DataView(e.buffer);if(r===4){let o=[];for(let s=0;s<r;s++)o.push(e[t+s]);return o.join(".")}if(r===16){let o=[];for(let s=0;s<r;s+=2)o.push(n.getUint16(t+s).toString(16));return o.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var dr={},os={},Mg=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[460,0,"quic"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]];Mg.forEach(e=>{let t=zg(...e);os[t.code]=t,dr[t.name]=t});function zg(e,t,r,n,o){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(o)}}function K(e){if(typeof e=="number"){if(os[e]!=null)return os[e];throw new Error(`no protocol with code: ${e}`)}else if(typeof e=="string"){if(dr[e]!=null)return dr[e];throw new Error(`no protocol with name: ${e}`)}throw new Error(`invalid protocol id type: ${typeof e}`)}var Me=U(un(),1);function ye(e,t="utf8"){let r=fn[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function Xe(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=cn(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function dc(e,t){switch(K(e).code){case 4:case 41:return ny(t);case 6:case 273:case 33:case 132:return gc(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return sy(t);case 421:return fy(t);case 444:return pc(t);case 445:return pc(t);case 466:return cy(t);default:return q(t,"base16")}}function mc(e,t){switch(K(e).code){case 4:return hc(t);case 41:return hc(t);case 6:case 273:case 33:case 132:return cs(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return oy(t);case 421:return iy(t);case 444:return uy(t);case 445:return ly(t);case 466:return ay(t);default:return ye(t,"base16")}}var as=Object.values(je).map(e=>e.decoder),ry=function(){let e=as[0].or(as[1]);return as.slice(2).forEach(t=>e=e.or(t)),e}();function hc(e){if(!an(e))throw new Error("invalid ip address");return ns(e)}function ny(e){let t=rc(e,0,e.length);if(t==null)throw new Error("ipBuff is required");if(!an(t))throw new Error("invalid ip address");return t}function cs(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function gc(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function oy(e){let t=ye(e),r=Uint8Array.from(Me.default.encode(t.length));return Xe([r,t],r.length+t.length)}function sy(e){let t=Me.default.decode(e);if(e=e.slice(Me.default.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return q(e)}function iy(e){let t;e[0]==="Q"||e[0]==="1"?t=dt(ee.decode(`z${e}`)).bytes:t=g.parse(e).multihash.bytes;let r=Uint8Array.from(Me.default.encode(t.length));return Xe([r,t],r.length+t.length)}function ay(e){let t=ry.decode(e),r=Uint8Array.from(Me.default.encode(t.length));return Xe([r,t],r.length+t.length)}function cy(e){let t=Me.default.decode(e),r=e.slice(Me.default.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return"u"+q(r,"base64url")}function fy(e){let t=Me.default.decode(e),r=e.slice(Me.default.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return q(r,"base58btc")}function uy(e){let t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let r=Ue.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=cs(n);return Xe([r,o],r.length+o.length)}function ly(e){let t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let r=Ue.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=cs(n);return Xe([r,o],r.length+o.length)}function pc(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=q(t,"base32"),o=gc(r);return`${n}:${o}`}var $t=U(un(),1);function hy(e){let t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let o=r[n],s=K(o);if(s.size===0){t.push([o]);continue}if(n++,n>=r.length)throw wc("invalid address: "+e);if(s.path===!0){t.push([o,ps(r.slice(n).join("/"))]);break}t.push([o,r[n]])}return t}function py(e){let t=[];return e.map(r=>{let n=hn(r);return t.push(n.name),r.length>1&&r[1]!=null&&t.push(r[1]),null}),ps(t.join("/"))}function dy(e){return e.map(t=>{Array.isArray(t)||(t=[t]);let r=hn(t);return t.length>1?[r.code,mc(r.code,t[1])]:[r.code]})}function fs(e){return e.map(t=>{let r=hn(t);return t[1]!=null?[r.code,dc(r.code,t[1])]:[r.code]})}function us(e){return ln(Xe(e.map(t=>{let r=hn(t),n=Uint8Array.from($t.default.encode(r.code));return t.length>1&&t[1]!=null&&(n=Xe([n,t[1]])),n})))}function ls(e,t){return e.size>0?e.size/8:e.size===0?0:$t.default.decode(t)+$t.default.decode.bytes}function mr(e){let t=[],r=0;for(;r<e.length;){let n=$t.default.decode(e,r),o=$t.default.decode.bytes,s=K(n),i=ls(s,e.slice(r+o));if(i===0){t.push([n]),r+=o;continue}let a=e.slice(r+o,r+o+i);if(r+=i+o,r>e.length)throw wc("Invalid address Uint8Array: "+q(e,"base16"));t.push([n,a])}return t}function hs(e){let t=mr(e),r=fs(t);return py(r)}function my(e){e=ps(e);let t=hy(e),r=dy(t);return us(r)}function yc(e){return my(e)}function ln(e){let t=gy(e);if(t!=null)throw t;return Uint8Array.from(e)}function gy(e){try{mr(e)}catch(t){return t}}function ps(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function wc(e){return new Error("Error parsing address: "+e)}function hn(e){return K(e[0])}var ds=U(un(),1);var vc=U(le(),1);function gr(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Sc,by=Symbol.for("nodejs.util.inspect.custom"),Ec=[K("dns").code,K("dns4").code,K("dns6").code,K("dnsaddr").code],xy=[K("p2p").code,K("ipfs").code],Sy=new Map,Tc=Symbol.for("@multiformats/js-multiaddr/multiaddr");function pn(e){return Boolean(e?.[Tc])}var Qe=class{constructor(t){if(this[Sc]=!0,t==null&&(t=""),t instanceof Uint8Array)this.bytes=ln(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=yc(t)}else if(pn(t))this.bytes=ln(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return hs(this.bytes)}toJSON(){return this.toString()}toOptions(){let t=this.protoCodes(),r=this.toString().split("/").slice(1),n,o;if(r.length>2)Ec.includes(t[0])&&xy.includes(t[1])?(n=K("tcp").name,o=443):(n=K(r[2]).name,o=parseInt(r[3]));else if(Ec.includes(t[0]))n=K("tcp").name,o=443;else throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t[0]===41||t[0]===55?6:4,host:r[1],transport:n,port:o}}protos(){return this.protoCodes().map(t=>Object.assign({},K(t)))}protoCodes(){let t=[],r=this.bytes,n=0;for(;n<r.length;){let o=ds.default.decode(r,n),s=ds.default.decode.bytes,i=K(o);n+=ls(i,r.slice(n+s))+s,t.push(o)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return mr(this.bytes)}stringTuples(){let t=mr(this.bytes);return fs(t)}encapsulate(t){return t=new Qe(t),new Qe(this.toString()+t.toString())}decapsulate(t){let r=t.toString(),n=this.toString(),o=n.lastIndexOf(r);if(o<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new Qe(n.slice(0,o))}decapsulateCode(t){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new Qe(us(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===dr.ipfs.code).pop();if(r?.[1]!=null){let n=r[1];return n[0]==="Q"||n[0]==="1"?q(ee.decode(`z${n}`),"base58btc"):q(g.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let t=null;try{t=this.stringTuples().filter(r=>K(r[0]).path===!0)[0][1],t==null&&(t=null)}catch{t=null}return t}equals(t){return gr(this.bytes,t.bytes)}async resolve(t){let r=this.protos().find(s=>s.resolvable);if(r==null)return[this];let n=Sy.get(r.name);if(n==null)throw(0,vc.default)(new Error(`no available resolver for ${r.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,t)).map(s=>new Qe(s))}nodeAddress(){let t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){let r=(t??this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}[(Sc=Tc,by)](){return this.inspect()}inspect(){return"<Multiaddr "+q(this.bytes,"base16")+" - "+hs(this.bytes)+">"}};function j(e){return new Qe(e)}var He=U(Cc(),1);var Uy=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;N.nanosecond=N.ns=1/1e6;N.\u00B5s=N.\u03BCs=N.us=N.microsecond=1/1e3;N.millisecond=N.ms=N[""]=1;N.second=N.sec=N.s=N.ms*1e3;N.minute=N.min=N.m=N.s*60;N.hour=N.hr=N.h=N.m*60;N.day=N.d=N.h*24;N.week=N.wk=N.w=N.d*7;N.month=N.b=N.d*(365.25/12);N.year=N.yr=N.y=N.d*365.25;function N(e="",t="ms"){var r=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(Uy,function(n,o,s){s=Ac(s),s&&(r=(r||0)+parseFloat(o,10)*s)}),r&&r/(Ac(t)||1)}function Ac(e){return N[e]||N[e.toLowerCase().replace(/s$/,"")]}var Ic=N;var ze=U(Rc(),1);ze.default.formatters.b=e=>e==null?"undefined":ee.baseEncode(e);ze.default.formatters.t=e=>e==null?"undefined":Ue.baseEncode(e);ze.default.formatters.m=e=>e==null?"undefined":Lt.baseEncode(e);ze.default.formatters.p=e=>e==null?"undefined":e.toString();ze.default.formatters.c=e=>e==null?"undefined":e.toString();ze.default.formatters.k=e=>e==null?"undefined":e.toString();function yn(e){return Object.assign((0,ze.default)(e),{error:(0,ze.default)(`${e}:error`),trace:(0,ze.default)(`${e}:trace`)})}var bt=U(Sn(),1);var lf=U(vs(),1),hf=lf.default;var En=(e,t)=>t,vw=(e,t,r,n)=>{if(n!=null&&n.assumeHttp===!1)return`tcp://${e}:${t}`;let o="tcp",s=`:${t}`;return r[r.length-1].protocol==="tcp"&&(o=t==="443"?"https":"http",s=t==="443"||t==="80"?"":s),`${o}://${e}${s}`},Tw={ip4:En,ip6:(e,t,r,n)=>n.length===1&&n[0].protocol==="ip6"?t:`[${t}]`,tcp:(e,t,r,n,o)=>n.some(s=>["http","https","ws","wss"].includes(s.protocol))?`${e}:${t}`:vw(e,t,n,o),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:En,dns4:En,dns6:En,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};function pf(e,t){let r=j(e),n=r.toString().split("/").slice(1);return r.tuples().map(o=>({protocol:n.shift()??"",content:o[1]!=null?n.shift()??"":""})).reduce((o,s,i,a)=>{let c=Tw[s.protocol];if(c==null)throw new Error(`Unsupported protocol ${s.protocol}`);return c(o,s.content,i,a,t)},"")}function As(e){try{e=pf(j(e))}catch{}return e=e.toString(),e}var df=()=>{};var mf=yn("ipfs-http-client:lib:error-handler"),kw=hf.bind({ignoreUndefined:!0}),_w=He.isBrowser||He.isWebWorker?location.protocol:"http",Pw=He.isBrowser||He.isWebWorker?location.hostname:"localhost",Cw=He.isBrowser||He.isWebWorker?location.port:"5001",Aw=(e={})=>{let t,r={},n;if(typeof e=="string"||pn(e))t=new URL(As(e));else if(e instanceof URL)t=e;else if(typeof e.url=="string"||pn(e.url))t=new URL(As(e.url)),r=e;else if(e.url instanceof URL)t=e.url,r=e;else{r=e||{};let o=(r.protocol||_w).replace(":",""),s=(r.host||Pw).split(":")[0],i=r.port||Cw;t=new URL(`${o}://${s}:${i}`)}if(r.apiPath?t.pathname=r.apiPath:(t.pathname==="/"||t.pathname===void 0)&&(t.pathname="api/v0"),He.isNode){let o=df(t);n=r.agent||new o({keepAlive:!0,maxSockets:6})}return{...r,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:n}},Iw=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let n=await e.json();mf(n),t=n.Message||n.message}else t=await e.text()}catch(n){mf("Failed to parse error response",n),t=n.message}let r=new bt.default.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(r=new bt.default.TimeoutError),t&&t.includes("context deadline exceeded")&&(r=new bt.default.TimeoutError)),t&&t.includes("request timed out")&&(r=new bt.default.TimeoutError),t&&(r.message=t),r},Uw=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,gf=e=>e.replace(Uw,function(t){return"-"+t.toLowerCase()}),Bw=e=>typeof e=="string"?Ic(e):e,ft=class extends bt.default{constructor(t={}){let r=Aw(t);super({timeout:Bw(r.timeout||0)||void 0,headers:r.headers,base:`${r.url}`,handleError:Iw,transformSearchParams:o=>{let s=new URLSearchParams;for(let[i,a]of o)a!=="undefined"&&a!=="null"&&i!=="signal"&&s.append(gf(i),a),i==="timeout"&&!isNaN(a)&&s.append(gf(i),a);return s},agent:r.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let n=this.fetch;this.fetch=(o,s={})=>(typeof o=="string"&&!o.startsWith("/")&&(o=`${r.url}/${o}`),n.call(this,o,kw(s,{method:"POST"})))}},CS=bt.default.HTTPError;var f=e=>t=>e(new ft(t),t);function vn(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}var yf=U(le(),1);function Tn(e){if(e==null)return;let t;if(e.secs!=null&&(t={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw(0,yf.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}function u({arg:e,searchParams:t,hashAlg:r,mtime:n,mode:o,...s}={}){t&&(s={...s,...t}),r&&(s.hash=r),n!=null&&(n=Tn(n),s.mtime=n.secs,s.mtimeNsecs=n.nsecs),o!=null&&(s.mode=vn(o)),s.timeout&&!isNaN(s.timeout)&&(s.timeout=`${s.timeout}ms`),e==null?e=[]:Array.isArray(e)||(e=[e]);let i=new URLSearchParams(s);return e.forEach(a=>i.append("arg",a)),i}var wf=f(e=>{async function t(r={}){return((await(await e.post("bitswap/wantlist",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).Keys||[]).map(o=>g.parse(o["/"]))}return t});var bf=f(e=>{async function t(r,n={}){return((await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:u({...n,peer:r.toString()}),headers:n.headers})).json()).Keys||[]).map(s=>g.parse(s["/"]))}return t});var Dw=U(le(),1);var xf=Symbol.for("@libp2p/peer-id");var Sf=Object.values(je).map(e=>e.decoder).reduce((e,t)=>e.or(t),je.identity.decoder),Ef=114,vf=36,Tf=37,xr=class{constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[xf](){return!0}toString(){return this.string==null&&(this.string=ee.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return g.createV1(Ef,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t instanceof Uint8Array)return gr(this.multihash.bytes,t);if(typeof t=="string")return X(t).equals(this);if(t?.multihash?.bytes!=null)return gr(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}},Sr=class extends xr{constructor(t){super({...t,type:"RSA"}),this.type="RSA",this.publicKey=t.publicKey}},Er=class extends xr{constructor(t){super({...t,type:"Ed25519"}),this.type="Ed25519",this.publicKey=t.multihash.digest}},vr=class extends xr{constructor(t){super({...t,type:"secp256k1"}),this.type="secp256k1",this.publicKey=t.multihash.digest}};function X(e,t){if(t=t??Sf,e.charAt(0)==="1"||e.charAt(0)==="Q"){let r=dt(ee.decode(`z${e}`));return e.startsWith("12D")?new Er({multihash:r}):e.startsWith("16U")?new vr({multihash:r}):new Sr({multihash:r})}return Nw(Sf.decode(e))}function Nw(e){try{let t=dt(e);if(t.code===yt.code){if(t.digest.length===vf)return new Er({multihash:t});if(t.digest.length===Tf)return new vr({multihash:t})}if(t.code===rn.code)return new Sr({multihash:t})}catch{return Rw(g.decode(e))}throw new Error("Supplied PeerID CID is invalid")}function Rw(e){if(e==null||e.multihash==null||e.version==null||e.version===1&&e.code!==Ef)throw new Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===rn.code)return new Sr({multihash:e.multihash});if(t.code===yt.code){if(t.digest.length===vf)return new Er({multihash:e.multihash});if(t.digest.length===Tf)return new vr({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}var kn=f(e=>{async function t(r={}){let n=await e.post("bitswap/stat",{searchParams:u(r),signal:r.signal,headers:r.headers});return Lw(await n.json())}return t});function Lw(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(t=>g.parse(t["/"])),peers:(e.Peers||[]).map(t=>X(t)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}var kf=f(e=>{async function t(r,n={}){return(await e.post("bitswap/unwant",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers})).json()}return t});function _f(e){return{wantlist:wf(e),wantlistForPeer:bf(e),unwant:kf(e),stat:kn(e)}}var _n=f(e=>{async function t(r,n={}){let o=await e.post("block/get",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers});return new Uint8Array(await o.arrayBuffer())}return t});var Uf=U(le(),1),Bf=U(Tr(),1),Df=U(Gt(),1),Nf=U(Is(),1);function Te(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function Ze(e){return e.constructor&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function kr(e){return typeof e=="object"&&(e.path||e.content)}var et=e=>e&&typeof e.getReader=="function";async function Rf(e){if(Te(e))return new Blob([e]);if(typeof e=="string"||e instanceof String)return new Blob([e.toString()]);if(Ze(e))return e;if(et(e)&&(e=(0,Df.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,Bf.default)(e),{value:r,done:n}=await t.peek();if(n)return If(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await(0,Nf.default)(t))]);if(Te(r)||typeof r=="string"||r instanceof String)return If(t)}throw(0,Uf.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function If(e){let t=[];for await(let r of e)t.push(r);return new Blob(t)}var Ar=U(le(),1),Ru=U(Gt(),1),Lu=U(Tr(),1),Ws=U(Us(),1);var Nu=U(le(),1);var tt=U(Du(),1),Wt=tt.default.Reader,Gs=tt.default.Writer,I=tt.default.util,fe=tt.default.roots["ipfs-unixfs"]||(tt.default.roots["ipfs-unixfs"]={}),Xw=fe.Data=(()=>{function e(t){if(this.blocksizes=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=I.newBuffer([]),e.prototype.filesize=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=I.emptyArray,e.prototype.hashType=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.fanout=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(r,n){if(n||(n=Gs.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&fe.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},e.decode=function(r,n){r instanceof Wt||(r=Wt.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new fe.Data;r.pos<o;){var i=r.uint32();switch(i>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;case 3:s.filesize=r.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(i&7)===2)for(var a=r.uint32()+r.pos;r.pos<a;)s.blocksizes.push(r.uint64());else s.blocksizes.push(r.uint64());break;case 5:s.hashType=r.uint64();break;case 6:s.fanout=r.uint64();break;case 7:s.mode=r.uint32();break;case 8:s.mtime=fe.UnixTime.decode(r,r.uint32());break;default:r.skipType(i&7);break}}if(!s.hasOwnProperty("Type"))throw I.ProtocolError("missing required 'Type'",{instance:s});return s},e.fromObject=function(r){if(r instanceof fe.Data)return r;var n=new fe.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?I.base64.decode(r.Data,n.Data=I.newBuffer(I.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&(I.Long?(n.filesize=I.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new I.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)I.Long?(n.blocksizes[o]=I.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new I.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&(I.Long?(n.hashType=I.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new I.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&(I.Long?(n.fanout=I.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new I.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=fe.UnixTime.fromObject(r.mtime)}return n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=I.newBuffer(o.Data))),I.Long){var s=new I.Long(0,0,!0);o.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.filesize=n.longs===String?"0":0;if(I.Long){var s=new I.Long(0,0,!0);o.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.hashType=n.longs===String?"0":0;if(I.Long){var s=new I.Long(0,0,!0);o.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?fe.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?I.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?I.Long.prototype.toString.call(r.filesize):n.longs===Number?new I.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var i=0;i<r.blocksizes.length;++i)typeof r.blocksizes[i]=="number"?o.blocksizes[i]=n.longs===String?String(r.blocksizes[i]):r.blocksizes[i]:o.blocksizes[i]=n.longs===String?I.Long.prototype.toString.call(r.blocksizes[i]):n.longs===Number?new I.LongBits(r.blocksizes[i].low>>>0,r.blocksizes[i].high>>>0).toNumber(!0):r.blocksizes[i]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?I.Long.prototype.toString.call(r.hashType):n.longs===Number?new I.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?I.Long.prototype.toString.call(r.fanout):n.longs===Number?new I.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=fe.UnixTime.toObject(r.mtime,n)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.default.util.toJSONOptions)},e.DataType=function(){let t={},r=Object.create(t);return r[t[0]="Raw"]=0,r[t[1]="Directory"]=1,r[t[2]="File"]=2,r[t[3]="Metadata"]=3,r[t[4]="Symlink"]=4,r[t[5]="HAMTShard"]=5,r}(),e})(),j2=fe.UnixTime=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Seconds=I.Long?I.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(r,n){return n||(n=Gs.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},e.decode=function(r,n){r instanceof Wt||(r=Wt.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new fe.UnixTime;r.pos<o;){var i=r.uint32();switch(i>>>3){case 1:s.Seconds=r.int64();break;case 2:s.FractionalNanoseconds=r.fixed32();break;default:r.skipType(i&7);break}}if(!s.hasOwnProperty("Seconds"))throw I.ProtocolError("missing required 'Seconds'",{instance:s});return s},e.fromObject=function(r){if(r instanceof fe.UnixTime)return r;var n=new fe.UnixTime;return r.Seconds!=null&&(I.Long?(n.Seconds=I.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new I.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},e.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if(I.Long){var s=new I.Long(0,0,!1);o.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?I.Long.prototype.toString.call(r.Seconds):n.longs===Number?new I.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.default.util.toJSONOptions)},e})(),M2=fe.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.MimeType="",e.encode=function(r,n){return n||(n=Gs.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},e.decode=function(r,n){r instanceof Wt||(r=Wt.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new fe.Metadata;r.pos<o;){var i=r.uint32();switch(i>>>3){case 1:s.MimeType=r.string();break;default:r.skipType(i&7);break}}return s},e.fromObject=function(r){if(r instanceof fe.Metadata)return r;var n=new fe.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,tt.default.util.toJSONOptions)},e})();var z2=parseInt("0644",8),H2=parseInt("0755",8);function Un(e){if(e!=null)return typeof e=="number"?e&4095:(e=e.toString(),e.substring(0,1)==="0"?parseInt(e,8)&4095:parseInt(e,10)&4095)}function Bn(e){if(e==null)return;let t;if(e.secs!=null&&(t={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw(0,Nu.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}async function*Ou(e,t){if(typeof e=="string"||e instanceof String||Te(e)||Ze(e)||e._readableState)throw(0,Ar.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(et(e)&&(e=(0,Ru.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,Lu.default)(e),{value:n,done:o}=await r.peek();if(o){yield*[];return}if(r.push(n),Number.isInteger(n))throw(0,Ar.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*(0,Ws.default)(r,s=>Vs({content:s},t));return}if(Te(n)){yield Vs({content:r},t);return}if(kr(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||et(n)||Ze(n)){yield*(0,Ws.default)(r,s=>Vs(s,t));return}}throw kr(e)?(0,Ar.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):(0,Ar.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function Vs(e,t){let{path:r,mode:n,mtime:o,content:s}=e,i={path:r||"",mode:Un(n),mtime:Bn(o)};return s?i.content=await t(s):r||(i.content=await t(e)),i}function $u(e){return Ou(e,Rf,!0)}function Fu(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}async function Q(e,t,r={}){let n=[],o=new FormData,s=0,i=0;for await(let{content:a,path:c,mode:h,mtime:p}of $u(e)){let y="",k=a?"file":"dir";s>0&&(y=`-${s}`);let $=k+y,b=[];if(h!=null&&b.push(`mode=${Fu(h)}`),p!=null){let{secs:E,nsecs:_}=p;b.push(`mtime=${E}`),_!=null&&b.push(`mtime-nsecs=${_}`)}if(b.length&&($=`${$}?${b.join("&")}`),a){o.set($,a,c!=null?encodeURIComponent(c):void 0);let E=i+a.size;n.push({name:c,start:i,end:E}),i=E}else if(c!=null)o.set($,new File([""],encodeURIComponent(c),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");s++}return{total:i,parts:n,headers:r,body:o}}var ju=U(Ps(),1);function Yw(e){return e.filter(Boolean)}function Y(...e){return(0,ju.anySignal)(Yw(e))}var Mu=f(e=>{async function t(r,n={}){let o=new AbortController,s=Y(o.signal,n.signal),i;try{i=await(await e.post("block/put",{signal:s,searchParams:u(n),...await Q([r],o,n.headers)})).json()}catch(a){if(n.format==="dag-pb")return t(r,{...n,format:"protobuf"});if(n.format==="dag-cbor")return t(r,{...n,format:"cbor"});throw a}return g.parse(i.Key)}return t});var zu=f(e=>{async function*t(r,n={}){Array.isArray(r)||(r=[r]);let o=await e.post("block/rm",{signal:n.signal,searchParams:u({arg:r.map(s=>s.toString()),"stream-channels":!0,...n}),headers:n.headers});for await(let s of o.ndjson())yield Zw(s)}return t});function Zw(e){let t={cid:g.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}var Hu=f(e=>{async function t(r,n={}){let s=await(await e.post("block/stat",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers})).json();return{cid:g.parse(s.Key),size:s.Size}}return t});function qu(e){return{get:_n(e),put:Mu(e),rm:zu(e),stat:Hu(e)}}var Gu=f(e=>{async function t(r,n={}){let o=await e.post("bootstrap/add",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),{Peers:s}=await o.json();return{Peers:s.map(i=>j(i))}}return t});var Vu=f(e=>{async function t(r={}){let n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:u({...r,all:!0}),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>j(s))}}return t});var Wu=f(e=>{async function t(r={}){let n=await e.post("bootstrap/list",{signal:r.signal,searchParams:u(r),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>j(s))}}return t});var Ju=f(e=>{async function t(r={}){let n=await e.post("bootstrap/add",{signal:r.signal,searchParams:u({...r,default:!0}),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(s=>j(s))}}return t});var Ku=f(e=>{async function t(r,n={}){let o=await e.post("bootstrap/rm",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),{Peers:s}=await o.json();return{Peers:s.map(i=>j(i))}}return t});function Xu(e){return{add:Gu(e),clear:Vu(e),list:Wu(e),reset:Ju(e),rm:Ku(e)}}var Qu=f(e=>{async function t(r,n={}){let s=await(await e.post("config/profile/apply",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json();return{original:s.OldCfg,updated:s.NewCfg}}return t});function R(e){if(e==null)return e;let t=/^[A-Z]+$/,r={};return Object.keys(e).reduce((n,o)=>(t.test(o)?n[o.toLowerCase()]=e[o]:t.test(o[0])?n[o[0].toLowerCase()+o.slice(1)]=e[o]:n[o]=e[o],n),r)}var Yu=f(e=>{async function t(r={}){return(await(await e.post("config/profile/list",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).map(s=>R(s))}return t});function Zu(e){return{apply:Qu(e),list:Yu(e)}}var el=f(e=>async(r,n={})=>{if(!r)throw new Error("key argument is required");return(await(await e.post("config",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json()).Value});var tl=f(e=>async(r={})=>await(await e.post("config/show",{signal:r.signal,searchParams:u({...r}),headers:r.headers})).json());var rl=f(e=>async(r,n={})=>{let o=new AbortController,s=Y(o.signal,n.signal);await(await e.post("config/replace",{signal:s,searchParams:u(n),...await Q([ye(JSON.stringify(r))],o,n.headers)})).text()});var nl=f(e=>async(r,n,o={})=>{if(typeof r!="string")throw new Error("Invalid key type");let s={...o,...eb(r,n)};await(await e.post("config",{signal:o.signal,searchParams:u(s),headers:o.headers})).text()}),eb=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function ol(e){return{getAll:tl(e),get:el(e),set:nl(e),replace:rl(e),profiles:Zu(e)}}var sl=f(e=>{async function*t(r,n={}){yield*(await e.post("dag/export",{signal:n.signal,searchParams:u({arg:r.toString()}),headers:n.headers})).iterator()}return t});var Js=U(le(),1);async function*Ks(e,t,r,n,o){let s=async h=>{let p=await r.getCodec(h.code),y=await n(h,o);return p.decode(y)},i=t.split("/").filter(Boolean),a=await s(e),c=e;for(;i.length;){let h=i.shift();if(!h)throw(0,Js.default)(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(a,h))a=a[h],yield{value:a,remainderPath:i.join("/")};else throw(0,Js.default)(new Error(`no link named "${h}" under ${c}`),"ERR_NO_LINK");let p=g.asCID(a);p&&(c=p,a=await s(a))}yield{value:a,remainderPath:""}}var fl=U(al(),1),ul=U(Ir(),1),ll=U(le(),1);var hl=(e,t)=>f((n,o)=>{let s=_n(o);return async(a,c={})=>{if(c.path){let $=c.localResolve?await(0,fl.default)(Ks(a,c.path,e,s,c)):await(0,ul.default)(Ks(a,c.path,e,s,c));if(!$)throw(0,ll.default)(new Error("Not found"),"ERR_NOT_FOUND");return $}let h=await e.getCodec(a.code),p=await s(a,c);return{value:h.decode(p),remainderPath:""}}})(t);var pl=f(e=>{async function*t(r,n={}){let o=new AbortController,s=Y(o.signal,n.signal),{headers:i,body:a}=await Q(r,o,n.headers),c=await e.post("dag/import",{signal:s,headers:i,body:a,searchParams:u({"pin-roots":n.pinRoots})});for await(let{Root:h}of c.ndjson())if(h!==void 0){let{Cid:{"/":p},PinErrorMsg:y}=h;yield{root:{cid:g.parse(p),pinErrorMsg:y}}}}return t});var Dn=(e,t)=>f(n=>async(s,i={})=>{let a={storeCodec:"dag-cbor",hashAlg:"sha2-256",...i},c;if(a.inputCodec){if(!(s instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");c=s}else c=(await e.getCodec(a.storeCodec)).encode(s),a.inputCodec=a.storeCodec;let h=new AbortController,p=Y(h.signal,a.signal),k=await(await n.post("dag/put",{timeout:a.timeout,signal:p,searchParams:u(a),...await Q([c],h,a.headers)})).json();return g.parse(k.Cid["/"])})(t);var dl=f(e=>async(r,n={})=>{let s=await(await e.post("dag/resolve",{signal:n.signal,searchParams:u({arg:`${r}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers})).json();return{cid:g.parse(s.Cid["/"]),remainderPath:s.RemPath}});function ml(e,t){return{export:sl(t),get:hl(e,t),import:pl(t),put:Dn(e,t),resolve:dl(t)}}var _e=e=>{if(e.Type===0)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===1)return{from:X(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:t,Addrs:r})=>({id:X(t),multiaddrs:r.map(n=>j(n)),protocols:[]})),providers:(e.Responses||[]).map(({ID:t,Addrs:r})=>({id:X(t),multiaddrs:r.map(n=>j(n)),protocols:[]}))};if(e.Type===2){let t={id:e.ID??X(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(t={id:X(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(r=>j(r)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:t}}if(e.Type===3)return{name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(e.Type===4)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:t,Addrs:r})=>({id:X(t),multiaddrs:r.map(n=>j(n)),protocols:[]}))};if(e.Type===5)return{name:"VALUE",type:e.Type,value:ye(e.Extra,"base64pad")};if(e.Type===6){let t=e.Responses.map(({ID:r})=>X(r));if(!t.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:t[0]}}if(e.Type===7)return{name:"DIALING_PEER",type:e.Type,peer:X(e.ID)};throw new Error("Unknown DHT event type")};var gl=f(e=>{async function*t(r,n={}){let o=await e.post("dht/findpeer",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers});for await(let s of o.ndjson())yield _e(s)}return t});var yl=f(e=>{async function*t(r,n={}){let o=await e.post("dht/findprovs",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers});for await(let s of o.ndjson())yield _e(s)}return t});var wl=f(e=>{async function*t(r,n={}){let o=await e.post("dht/get",{signal:n.signal,searchParams:u({arg:r instanceof Uint8Array?q(r):r.toString(),...n}),headers:n.headers});for await(let s of o.ndjson())yield _e(s)}return t});var bl=f(e=>{async function*t(r,n={recursive:!1}){let o=Array.isArray(r)?r:[r],s=await e.post("dht/provide",{signal:n.signal,searchParams:u({arg:o.map(i=>i.toString()),...n}),headers:n.headers});for await(let i of s.ndjson())yield _e(i)}return t});var xl=f(e=>{async function*t(r,n,o={}){let s=new AbortController,i=Y(s.signal,o.signal),a=await e.post("dht/put",{signal:i,searchParams:u({arg:r instanceof Uint8Array?q(r):r.toString(),...o}),...await Q([n],s,o.headers)});for await(let c of a.ndjson())yield _e(c)}return t});var Sl=f(e=>{async function*t(r,n={}){let o=await e.post("dht/query",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers});for await(let s of o.ndjson())yield _e(s)}return t});function El(e){return{findPeer:gl(e),findProvs:yl(e),get:wl(e),provide:bl(e),put:xl(e),query:Sl(e)}}var vl=f(e=>{async function t(r={}){return(await e.post("diag/cmds",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()}return t});var Tl=f(e=>{async function t(r={}){return(await e.post("diag/net",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()}return t});var kl=f(e=>{async function t(r={}){return(await e.post("diag/sys",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()}return t});function _l(e){return{cmds:vl(e),net:Tl(e),sys:kl(e)}}var Pl=f(e=>{async function t(r,n,o={}){await(await e.post("files/chmod",{signal:o.signal,searchParams:u({arg:r,mode:n,...o}),headers:o.headers})).text()}return t});var Cl=f(e=>{async function t(r,n,o={}){let s=Array.isArray(r)?r:[r];await(await e.post("files/cp",{signal:o.signal,searchParams:u({arg:s.concat(n).map(a=>g.asCID(a)?`/ipfs/${a}`:a),...o}),headers:o.headers})).text()}return t});var Al=f(e=>{async function t(r,n={}){if(!r||typeof r!="string")throw new Error("ipfs.files.flush requires a path");let s=await(await e.post("files/flush",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json();return g.parse(s.Cid)}return t});function Ur(e){let t=R(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}var Ul=f(e=>{async function*t(r,n={}){if(!r)throw new Error("ipfs.files.ls requires a path");let o=await e.post("files/ls",{signal:n.signal,searchParams:u({arg:g.asCID(r)?`/ipfs/${r}`:r,long:!0,...n,stream:!0}),headers:n.headers});for await(let s of o.ndjson())if("Entries"in s)for(let i of s.Entries||[])yield Il(Ur(i));else yield Il(Ur(s))}return t});function Il(e){return e.hash&&(e.cid=g.parse(e.hash)),delete e.hash,e.type=e.type===1?"directory":"file",e}var Bl=f(e=>{async function t(r,n={}){await(await e.post("files/mkdir",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).text()}return t});var Dl=f(e=>{async function t(r,n,o={}){Array.isArray(r)||(r=[r]),await(await e.post("files/mv",{signal:o.signal,searchParams:u({arg:r.concat(n),...o}),headers:o.headers})).text()}return t});var Ll=U(Rl(),1),Ol=f(e=>{async function*t(r,n={}){let o=await e.post("files/read",{signal:n.signal,searchParams:u({arg:r,count:n.length,...n}),headers:n.headers});yield*(0,Ll.default)(o.body)}return t});var $l=U(Sn(),1),Fl=f(e=>{async function t(r,n={}){let o=await e.post("files/rm",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),s=await o.text();if(s!==""){let i=new $l.default.HTTPError(o);throw i.message=s,i}}return t});var Nn=f(e=>{async function t(r,n={}){let s=await(await e.post("files/stat",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json();return s.WithLocality=s.WithLocality||!1,lb(Ur(s))}return t});function lb(e){return e.cid=g.parse(e.hash),delete e.hash,e}var jl=f(e=>{async function t(r,n={}){await(await e.post("files/touch",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).text()}return t});var Ml=f(e=>{async function t(r,n,o={}){let s=new AbortController,i=Y(s.signal,o.signal);await(await e.post("files/write",{signal:i,searchParams:u({arg:r,streamChannels:!0,count:o.length,...o}),...await Q([{content:n,path:"arg",mode:vn(o.mode),mtime:Tn(o.mtime)}],s,o.headers)})).text()}return t});function zl(e){return{chmod:Pl(e),cp:Cl(e),flush:Al(e),ls:Ul(e),mkdir:Bl(e),mv:Dl(e),read:Ol(e),rm:Fl(e),stat:Nn(e),touch:jl(e),write:Ml(e)}}var Hl=U(le(),1),ql=f(e=>async(r,n,o={})=>{throw(0,Hl.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var Gl=f(e=>{async function t(r,n={type:"Ed25519"}){let s=await(await e.post("key/gen",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json();return R(s)}return t});var Vl=f(e=>{async function t(r,n,o,s={}){let a=await(await e.post("key/import",{signal:s.signal,searchParams:u({arg:r,pem:n,password:o,...s}),headers:s.headers})).json();return R(a)}return t});var Wl=U(le(),1),Jl=f(e=>async(r,n={})=>{throw(0,Wl.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var Kl=f(e=>{async function t(r={}){return((await(await e.post("key/list",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).Keys||[]).map(s=>R(s))}return t});var Xl=f(e=>{async function t(r,n,o={}){let s=await e.post("key/rename",{signal:o.signal,searchParams:u({arg:[r,n],...o}),headers:o.headers});return R(await s.json())}return t});var Ql=f(e=>{async function t(r,n={}){let s=await(await e.post("key/rm",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json();return R(s.Keys[0])}return t});function Yl(e){return{export:ql(e),gen:Gl(e),import:Vl(e),info:Jl(e),list:Kl(e),rename:Xl(e),rm:Ql(e)}}var Zl=f(e=>{async function t(r,n,o={}){let s=await e.post("log/level",{signal:o.signal,searchParams:u({arg:[r,n],...o}),headers:o.headers});return R(await s.json())}return t});var eh=f(e=>{async function t(r={}){return(await(await e.post("log/ls",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).Strings}return t});var th=f(e=>{async function*t(r={}){yield*(await e.post("log/tail",{signal:r.signal,searchParams:u(r),headers:r.headers})).ndjson()}return t});function rh(e){return{level:Zl(e),ls:eh(e),tail:th(e)}}var nh=f(e=>{async function t(r,n={}){let o=await e.post("name/publish",{signal:n.signal,searchParams:u({arg:`${r}`,...n}),headers:n.headers});return R(await o.json())}return t});var oh=f(e=>{async function*t(r,n={}){let o=await e.post("name/resolve",{signal:n.signal,searchParams:u({arg:r,stream:!0,...n}),headers:n.headers});for await(let s of o.ndjson())yield s.Path}return t});var sh=f(e=>{async function t(r,n={}){let o=await e.post("name/pubsub/cancel",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers});return R(await o.json())}return t});var ih=f(e=>{async function t(r={}){let n=await e.post("name/pubsub/state",{signal:r.signal,searchParams:u(r),headers:r.headers});return R(await n.json())}return t});var ah=f(e=>{async function t(r={}){return(await(await e.post("name/pubsub/subs",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).Strings||[]}return t});function ch(e){return{cancel:sh(e),state:ih(e),subs:ah(e)}}function fh(e){return{publish:nh(e),resolve:oh(e),pubsub:ch(e)}}var uh=f(e=>{async function t(r,n={}){let s=await(await e.post("object/data",{signal:n.signal,searchParams:u({arg:`${r instanceof Uint8Array?g.decode(r):r}`,...n}),headers:n.headers})).arrayBuffer();return new Uint8Array(s,0,s.byteLength)}return t});var lh=f(e=>{async function t(r,n={}){let s=await(await e.post("object/get",{signal:n.signal,searchParams:u({arg:`${r instanceof Uint8Array?g.decode(r):r}`,dataEncoding:"base64",...n}),headers:n.headers})).json();return{Data:ye(s.Data,"base64pad"),Links:(s.Links||[]).map(i=>({Name:i.Name,Hash:g.parse(i.Hash),Tsize:i.Size}))}}return t});var hh=f(e=>{async function t(r,n={}){return((await(await e.post("object/links",{signal:n.signal,searchParams:u({arg:`${r instanceof Uint8Array?g.decode(r):r}`,...n}),headers:n.headers})).json()).Links||[]).map(i=>({Name:i.Name,Tsize:i.Size,Hash:g.parse(i.Hash)}))}return t});var ph=f(e=>{async function t(r={}){let n=await e.post("object/new",{signal:r.signal,searchParams:u({arg:r.template,...r}),headers:r.headers}),{Hash:o}=await n.json();return g.parse(o)}return t});var dh=(e,t)=>f(n=>{let o=Dn(e,t);async function s(i,a={}){return o(i,{...a,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return s})(t);var mh=f(e=>{async function t(r,n={}){let s=await(await e.post("object/stat",{signal:n.signal,searchParams:u({arg:`${r}`,...n}),headers:n.headers})).json();return{...s,Hash:g.parse(s.Hash)}}return t});var gh=f(e=>{async function t(r,n,o={}){let s=await e.post("object/patch/add-link",{signal:o.signal,searchParams:u({arg:[`${r}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...o}),headers:o.headers}),{Hash:i}=await s.json();return g.parse(i)}return t});var yh=f(e=>{async function t(r,n,o={}){let s=new AbortController,i=Y(s.signal,o.signal),a=await e.post("object/patch/append-data",{signal:i,searchParams:u({arg:`${r}`,...o}),...await Q([n],s,o.headers)}),{Hash:c}=await a.json();return g.parse(c)}return t});var wh=f(e=>{async function t(r,n,o={}){let s=await e.post("object/patch/rm-link",{signal:o.signal,searchParams:u({arg:[`${r}`,n.Name||n.name||null],...o}),headers:o.headers}),{Hash:i}=await s.json();return g.parse(i)}return t});var bh=f(e=>{async function t(r,n,o={}){let s=new AbortController,i=Y(s.signal,o.signal),a=await e.post("object/patch/set-data",{signal:i,searchParams:u({arg:[`${r}`],...o}),...await Q([n],s,o.headers)}),{Hash:c}=await a.json();return g.parse(c)}return t});function xh(e){return{addLink:gh(e),appendData:yh(e),rmLink:wh(e),setData:bh(e)}}function Sh(e,t){return{data:uh(t),get:lh(t),links:hh(t),new:ph(t),put:dh(e,t),stat:mh(t),patch:xh(t)}}var Jt=U(le(),1);async function*Rn(e){if(e==null)throw(0,Jt.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let t=g.asCID(e);if(t){yield $e({cid:t});return}if(e instanceof String||typeof e=="string"){yield $e({path:e});return}if(e.cid!=null||e.path!=null)return yield $e(e);if(Symbol.iterator in e){let r=e[Symbol.iterator](),n=r.next();if(n.done)return r;if(g.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield $e({cid:n.value});for(let o of r)yield $e({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield $e(n.value);for(let o of r)yield $e(o);return}throw(0,Jt.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){let r=e[Symbol.asyncIterator](),n=await r.next();if(n.done)return r;if(g.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield $e({cid:n.value});for await(let o of r)yield $e({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield $e(n.value);for await(let o of r)yield $e(o);return}throw(0,Jt.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw(0,Jt.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function $e(e){let t=e.cid||`${e.path}`;if(!t)throw(0,Jt.default)(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let r={path:t,recursive:e.recursive!==!1};return e.metadata!=null&&(r.metadata=e.metadata),r}var Ln=f(e=>{async function*t(r,n={}){for await(let{path:o,recursive:s,metadata:i}of Rn(r)){let a=await e.post("pin/add",{signal:n.signal,searchParams:u({...n,arg:o,recursive:s,metadata:i?JSON.stringify(i):void 0,stream:!0}),headers:n.headers});for await(let c of a.ndjson()){if(c.Pins){for(let h of c.Pins)yield g.parse(h);continue}yield g.parse(c)}}}return t});var Eh=U(Ir(),1);function vh(e){let t=Ln(e);return f(()=>{async function r(n,o={}){return(0,Eh.default)(t([{path:n,...o}],o))}return r})(e)}function Th(e,t,r){let n={type:e,cid:g.parse(t)};return r&&(n.metadata=r),n}var kh=f(e=>{async function*t(r={}){let n=[];r.paths&&(n=Array.isArray(r.paths)?r.paths:[r.paths]);let o=await e.post("pin/ls",{signal:r.signal,searchParams:u({...r,arg:n.map(s=>`${s}`),stream:!0}),headers:r.headers});for await(let s of o.ndjson()){if(s.Keys){for(let i of Object.keys(s.Keys))yield Th(s.Keys[i].Type,i,s.Keys[i].Metadata);return}yield Th(s.Type,s.Cid,s.Metadata)}}return t});var On=f(e=>{async function*t(r,n={}){for await(let{path:o,recursive:s}of Rn(r)){let i=new URLSearchParams(n.searchParams);i.append("arg",`${o}`),s!=null&&i.set("recursive",String(s));let a=await e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:u({...n,arg:`${o}`,recursive:s})});for await(let c of a.ndjson()){if(c.Pins){yield*c.Pins.map(h=>g.parse(h));continue}yield g.parse(c)}}}return t});var _h=U(Ir(),1);var Ph=e=>{let t=On(e);return f(()=>{async function r(n,o={}){return(0,_h.default)(t([{path:n,...o}],o))}return r})(e)};var $n=({Name:e,Status:t,Cid:r})=>({cid:g.parse(r),name:e,status:t}),Ch=e=>{if(typeof e=="string"&&e!=="")return e;throw new TypeError("service name must be passed")},Ah=e=>{if(g.asCID(e))return e.toString();throw new TypeError(`CID instance expected instead of ${typeof e}`)},Kt=({service:e,cid:t,name:r,status:n,all:o})=>{let s=u({service:Ch(e),name:r,force:o?!0:void 0});if(t)for(let i of t)s.append("cid",Ah(i));if(n)for(let i of n)s.append("status",i);return s},Ih=({cid:e,service:t,background:r,name:n,origins:o})=>{let s=u({arg:Ah(e),service:Ch(t),name:n,background:r?!0:void 0});if(o)for(let i of o)s.append("origin",i.toString());return s};function Uh(e){async function t(r,{timeout:n,signal:o,headers:s,...i}){let a=await e.post("pin/remote/add",{timeout:n,signal:o,headers:s,searchParams:Ih({cid:r,...i})});return $n(await a.json())}return t}function Bh(e){async function*t({timeout:r,signal:n,headers:o,...s}){let i=await e.post("pin/remote/ls",{timeout:r,signal:n,headers:o,searchParams:Kt(s)});for await(let a of i.ndjson())yield $n(a)}return t}function Dh(e){async function t({timeout:r,signal:n,headers:o,...s}){await e.post("pin/remote/rm",{timeout:r,signal:n,headers:o,searchParams:Kt({...s,all:!1})})}return t}function Nh(e){async function t({timeout:r,signal:n,headers:o,...s}){await e.post("pin/remote/rm",{timeout:r,signal:n,headers:o,searchParams:Kt({...s,all:!0})})}return t}function Rh(e){let t=String(e);if(t==="undefined")throw Error("endpoint is required");return t[t.length-1]==="/"?t.slice(0,-1):t}function Lh(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:hb(e.Stat)}}}function hb(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:r,Queued:n,Failed:o}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:o}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Oh(e){async function t(r,n){let{endpoint:o,key:s,headers:i,timeout:a,signal:c}=n;await e.post("pin/remote/service/add",{timeout:a,signal:c,searchParams:u({arg:[r,Rh(o),s]}),headers:i})}return t}function $h(e){async function t(r={}){let{stat:n,headers:o,timeout:s,signal:i}=r,a=await e.post("pin/remote/service/ls",{timeout:s,signal:i,headers:o,searchParams:n===!0?u({stat:n}):void 0}),{RemoteServices:c}=await a.json();return c.map(Lh)}return t}function Fh(e){async function t(r,n={}){await e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:u({arg:r})})}return t}function jh(e){let t=new ft(e);return{add:Oh(t),ls:$h(t),rm:Fh(t)}}function Mh(e){let t=new ft(e);return{add:Uh(t),ls:Bh(t),rm:Dh(t),rmAll:Nh(t),service:jh(e)}}function zh(e){return{addAll:Ln(e),add:vh(e),ls:kh(e),rmAll:On(e),rm:Ph(e),remote:Mh(e)}}var Hh=e=>Array.isArray(e)?e.map(Fn):e,Fn=e=>q(Xt(e)),Xt=e=>at.decode(e),qh=e=>BigInt(`0x${q(at.decode(e),"base16")}`),Qt=e=>at.encode(ye(e));var Gh=f(e=>{async function t(r={}){let{Strings:n}=await(await e.post("pubsub/ls",{signal:r.signal,searchParams:u(r),headers:r.headers})).json();return Hh(n)||[]}return t});var Vh=f(e=>{async function t(r,n={}){let o=await e.post("pubsub/peers",{signal:n.signal,searchParams:u({arg:Qt(r),...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return t});var Wh=f(e=>{async function t(r,n,o={}){let s=u({arg:Qt(r),...o}),i=new AbortController,a=Y(i.signal,o.signal);await(await e.post("pubsub/pub",{signal:a,searchParams:s,...await Q([n],i,o.headers)})).text()}return t});var pb=yn("ipfs-http-client:pubsub:subscribe"),Jh=(e,t)=>f(r=>{async function n(o,s,i={}){i.signal=t.subscribe(o,s,i.signal);let a,c,h=new Promise((y,k)=>{a=y,c=k}),p=setTimeout(()=>a(),1e3);return r.post("pubsub/sub",{signal:i.signal,searchParams:u({arg:Qt(o),...i}),headers:i.headers}).catch(y=>{t.unsubscribe(o,s),c(y)}).then(y=>{clearTimeout(p),y&&(db(y,{onMessage:k=>{if(!!s){if(typeof s=="function"){s(k);return}typeof s.handleEvent=="function"&&s.handleEvent(k)}},onEnd:()=>t.unsubscribe(o,s),onError:i.onError}),a())}),h}return n})(e);async function db(e,{onMessage:t,onEnd:r,onError:n}){n=n||pb;try{for await(let o of e.ndjson())try{if(!o.from)continue;o.from!=null&&o.seqno!=null?t({type:"signed",from:X(o.from),data:Xt(o.data),sequenceNumber:qh(o.seqno),topic:Fn(o.topicIDs[0]),key:Xt(o.key??"u"),signature:Xt(o.signature??"u")}):t({type:"unsigned",data:Xt(o.data),topic:Fn(o.topicIDs[0])})}catch(s){s.message=`Failed to parse pubsub message: ${s.message}`,n(s,!1,o)}}catch(o){mb(o)||n(o,!0)}finally{r()}}var mb=e=>{switch(e.type){case"aborted":return!0;case"abort":return!0;default:return e.name==="AbortError"}};var Kh=(e,t)=>{async function r(n,o){t.unsubscribe(n,o)}return r};var jn=class{constructor(){this._subs=new Map}subscribe(t,r,n){let o=this._subs.get(t)||[];if(o.find(i=>i.handler===r))throw new Error(`Already subscribed to ${t} with this handler`);let s=new AbortController;return this._subs.set(t,[{handler:r,controller:s}].concat(o)),n&&n.addEventListener("abort",()=>this.unsubscribe(t,r)),s.signal}unsubscribe(t,r){let n=this._subs.get(t)||[],o;r?(this._subs.set(t,n.filter(s=>s.handler!==r)),o=n.filter(s=>s.handler===r)):(this._subs.set(t,[]),o=n),(this._subs.get(t)||[]).length||this._subs.delete(t),o.forEach(s=>s.controller.abort())}};function Xh(e){let t=new jn;return{ls:Gh(e),peers:Vh(e),publish:Wh(e),subscribe:Jh(e,t),unsubscribe:Kh(e,t)}}var Qh=f(e=>{async function*t(r={}){yield*(await e.post("refs/local",{signal:r.signal,transform:R,searchParams:u(r),headers:r.headers})).ndjson()}return t});var Yh=f((e,t)=>Object.assign(async function*(n,o={}){let s=Array.isArray(n)?n:[n];yield*(await e.post("refs",{signal:o.signal,searchParams:u({arg:s.map(a=>`${a instanceof Uint8Array?g.decode(a):a}`),...o}),headers:o.headers,transform:R})).ndjson()},{local:Qh(t)}));var Zh=f(e=>{async function*t(r={}){yield*(await e.post("repo/gc",{signal:r.signal,searchParams:u(r),headers:r.headers,transform:o=>({err:o.Error?new Error(o.Error):null,cid:(o.Key||{})["/"]?g.parse(o.Key["/"]):null})})).ndjson()}return t});var Mn=f(e=>{async function t(r={}){let o=await(await e.post("repo/stat",{signal:r.signal,searchParams:u(r),headers:r.headers})).json();return{numObjects:BigInt(o.NumObjects),repoSize:BigInt(o.RepoSize),repoPath:o.RepoPath,version:o.Version,storageMax:BigInt(o.StorageMax)}}return t});var ep=f(e=>{async function t(r={}){return(await(await e.post("repo/version",{signal:r.signal,searchParams:u(r),headers:r.headers})).json()).Version}return t});function tp(e){return{gc:Zh(e),stat:Mn(e),version:ep(e)}}var rp=f(e=>{async function*t(r={}){yield*(await e.post("stats/bw",{signal:r.signal,searchParams:u(r),headers:r.headers,transform:o=>({totalIn:BigInt(o.TotalIn),totalOut:BigInt(o.TotalOut),rateIn:parseFloat(o.RateIn),rateOut:parseFloat(o.RateOut)})})).ndjson()}return t});function np(e){return{bitswap:kn(e),repo:Mn(e),bw:rp(e)}}var op=f(e=>{async function t(r={}){let n=await e.post("swarm/addrs",{signal:r.signal,searchParams:u(r),headers:r.headers}),{Addrs:o}=await n.json();return Object.keys(o).map(s=>({id:X(s),addrs:(o[s]||[]).map(i=>j(i))}))}return t});var sp=f(e=>{async function t(r,n={}){let o=await e.post("swarm/connect",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return t});var ip=f(e=>{async function t(r,n={}){let o=await e.post("swarm/disconnect",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),{Strings:s}=await o.json();return s||[]}return t});var ap=f(e=>{async function t(r={}){let n=await e.post("swarm/addrs/local",{signal:r.signal,searchParams:u(r),headers:r.headers}),{Strings:o}=await n.json();return(o||[]).map(s=>j(s))}return t});var cp=f(e=>{async function t(r={}){let n=await e.post("swarm/peers",{signal:r.signal,searchParams:u(r),headers:r.headers}),{Peers:o}=await n.json();return(o||[]).map(s=>({addr:j(s.Addr),peer:X(s.Peer),muxer:s.Muxer,latency:s.Latency,streams:s.Streams,direction:s.Direction==null?void 0:s.Direction===0?"inbound":"outbound"}))}return t});function fp(e){return{addrs:op(e),connect:sp(e),disconnect:ip(e),localAddrs:ap(e),peers:cp(e)}}var zn=f(e=>{async function*t(r,n={}){let o=new AbortController,s=Y(o.signal,n.signal),{headers:i,body:a,total:c,parts:h}=await Q(r,o,n.headers),[p,y]=typeof n.progress=="function"?gb(c,h,n.progress):[void 0,void 0],k=await e.post("add",{searchParams:u({"stream-channels":!0,...n,progress:Boolean(p)}),onUploadProgress:y,signal:s,headers:i,body:a});for await(let $ of k.ndjson())$=R($),$.hash!==void 0?yield wb($):p&&p($.bytes||0,$.name)}return t}),gb=(e,t,r)=>t?[void 0,yb(e,t,r)]:[r,void 0],yb=(e,t,r)=>{let n=0,o=t.length;return({loaded:s,total:i})=>{let a=Math.floor(s/i*e);for(;n<o;){let{start:c,end:h,name:p}=t[n];if(a<h){r(a-c,p);break}else r(h-c,p),n+=1}}};function wb({name:e,hash:t,size:r,mode:n,mtime:o,mtimeNsecs:s}){let i={path:e,cid:g.parse(t),size:parseInt(r)};return n!=null&&(i.mode=parseInt(n,8)),o!=null&&(i.mtime={secs:o,nsecs:s||0}),i}var Tp=U(Ir(),1);var pp=U(le(),1);var dp=U(Gt(),1),mp=U(hp(),1),gp=U(Tr(),1),yp=U(Is(),1),wp=U(Us(),1);async function*Hn(e){yield e}async function bp(e){if(Te(e))return Hn(Xs(e));if(typeof e=="string"||e instanceof String)return Hn(Xs(e.toString()));if(Ze(e))return(0,mp.default)(e);if(et(e)&&(e=(0,dp.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,gp.default)(e),{value:r,done:n}=await t.peek();if(n)return Hn(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return Hn(Uint8Array.from(await(0,yp.default)(t)));if(Te(r)||typeof r=="string"||r instanceof String)return(0,wp.default)(t,Xs)}throw(0,pp.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function Xs(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):ye(e.toString())}var Gn=U(le(),1),xp=U(Gt(),1),Sp=U(Tr(),1);async function*Ep(e,t){if(e==null)throw(0,Gn.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield qn(e.toString(),t);return}if(Te(e)||Ze(e)){yield qn(e,t);return}if(et(e)&&(e=(0,xp.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,Sp.default)(e),{value:n,done:o}=await r.peek();if(o){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||Te(n)||typeof n=="string"||n instanceof String){yield qn(r,t);return}throw(0,Gn.default)(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(kr(e)){yield qn(e,t);return}throw(0,Gn.default)(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function qn(e,t){let{path:r,mode:n,mtime:o,content:s}=e,i={path:r||"",mode:Un(n),mtime:Bn(o)};return s?i.content=await t(s):r||(i.content=await t(e)),i}function vp(e){return Ep(e,bp)}function kp(e){let t=zn(e);return f(()=>{async function r(n,o={}){return await(0,Tp.default)(t(vp(n),o))}return r})(e)}var _p=f(e=>{async function*t(r,n={}){yield*(await e.post("cat",{signal:n.signal,searchParams:u({arg:r.toString(),...n}),headers:n.headers})).iterator()}return t});var Pp=f(e=>async(r={})=>(await e.post("commands",{signal:r.signal,searchParams:u(r),headers:r.headers})).json());var Cp=f(e=>async(r,n={})=>(await(await e.post("dns",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers})).json()).Path);var Ap=f(e=>()=>{let t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}});var Ip=f(e=>{async function*t(r,n={}){let o={arg:`${r instanceof Uint8Array?g.decode(r):r}`,...n};o.compressionLevel&&(o["compression-level"]=o.compressionLevel,delete o.compressionLevel),yield*(await e.post("get",{signal:n.signal,searchParams:u(o),headers:n.headers})).iterator()}return t});var Vn=f(e=>{async function t(r={}){let o=await(await e.post("id",{signal:r.signal,searchParams:u({arg:r.peerId?r.peerId.toString():void 0,...r}),headers:r.headers})).json(),s={...R(o)};return s.id=X(s.id),s.addresses&&(s.addresses=s.addresses.map(i=>j(i))),s}return t});var Up=e=>{let t=Vn(e);async function r(n={}){let o=await t(n);return Boolean(o&&o.addresses&&o.addresses.length)}return r};var Bp=f((e,t)=>{async function*r(n,o={}){let s=`${n instanceof Uint8Array?g.decode(n):n}`;async function i(c){let h=c.Hash;if(h.includes("/")){let y=h.startsWith("/ipfs/")?h:`/ipfs/${h}`;h=(await Nn(t)(y)).cid}else h=g.parse(h);let p={name:c.Name,path:s+(c.Name?`/${c.Name}`:""),size:c.Size,cid:h,type:xb(c)};return c.Mode&&(p.mode=parseInt(c.Mode,8)),c.Mtime!==void 0&&c.Mtime!==null&&(p.mtime={secs:c.Mtime},c.MtimeNsecs!==void 0&&c.MtimeNsecs!==null&&(p.mtime.nsecs=c.MtimeNsecs)),p}let a=await e.post("ls",{signal:o.signal,searchParams:u({arg:s,...o}),headers:o.headers});for await(let c of a.ndjson()){if(c=c.Objects,!c)throw new Error("expected .Objects in results");if(c=c[0],!c)throw new Error("expected one array in results.Objects");let h=c.Links;if(!Array.isArray(h))throw new Error("expected one array in results.Objects[0].Links");if(!h.length){yield i(c);return}yield*h.map(i)}}return r});function xb(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}var Dp=f(e=>{async function t(r={}){let n=await e.post("dns",{signal:r.signal,searchParams:u(r),headers:r.headers});return R(await n.json())}return t});var Np=f(e=>{async function*t(r,n={}){yield*(await e.post("ping",{signal:n.signal,searchParams:u({arg:`${r}`,...n}),headers:n.headers,transform:R})).ndjson()}return t});var Rp=f(e=>{async function t(r,n={}){let o=await e.post("resolve",{signal:n.signal,searchParams:u({arg:r,...n}),headers:n.headers}),{Path:s}=await o.json();return s}return t});var Lp=U(le(),1),Op=f(e=>async(r={})=>{throw(0,Lp.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")});var $p=f(e=>{async function t(r={}){await(await e.post("shutdown",{signal:r.signal,searchParams:u(r),headers:r.headers})).text()}return t});var Fp=f(e=>{async function t(r={}){let n=await e.post("version",{signal:r.signal,searchParams:u(r),headers:r.headers});return{...R(await n.json()),"ipfs-http-client":"1.0.0"}}return t});var Hp=U(jp(),1),qp=U(zp(),1);function Qs(e={}){let t={name:yt.name,code:yt.code,encode:h=>h,decode:h=>h},r=Object.values(je);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(h=>r.push(h));let n=new Lr({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),o=Object.values(Va);[bo,tn,Fo,jo,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(h=>o.push(h));let s=new Or({codecs:o,loadCodec:e.ipld&&e.ipld.loadCodec}),i=Object.values(Ga);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(h=>i.push(h));let a=new $r({hashers:i,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:kp(e),addAll:zn(e),bitswap:_f(e),block:qu(e),bootstrap:Xu(e),cat:_p(e),commands:Pp(e),config:ol(e),dag:ml(s,e),dht:El(e),diag:_l(e),dns:Cp(e),files:zl(e),get:Ip(e),getEndpointConfig:Ap(e),id:Vn(e),isOnline:Up(e),key:Yl(e),log:rh(e),ls:Bp(e),mount:Dp(e),name:fh(e),object:Sh(s,e),pin:zh(e),ping:Np(e),pubsub:Xh(e),refs:Yh(e),repo:tp(e),resolve:Rp(e),start:Op(e),stats:np(e),stop:$p(e),swarm:fp(e),version:Fp(e),bases:n,codecs:s,hashers:a}}var Tb=Hp.default;window.client=Qs({host:"ipfs.io",port:443,protocol:"https"});var Et=class{constructor({tokensPerInterval:t,interval:r,stopped:n}){if(this.tokensPerInterval=t,this._isStopped=n,typeof r=="string")switch(r){case"sec":case"second":{this.interval=1e3;break}case"min":case"minute":{this.interval=1e3*60;break}case"hr":case"hour":{this.interval=1e3*60*60;break}case"day":{this.interval=1e3*60*60*24;break}default:throw new Error("Invalid interval "+r)}else this.interval=r;this.tokensRemovedAt=[],this.awaitingRestart=new Set}dripTokens(){throw new Error("dripTokens() not implemented")}getDelayForTokens(){throw new Error("getDelayForTokens() not implemented")}getTokens(){return this.dripTokens(),Math.floor(this.tokens)}tryRemoveTokens(t){return this.dripTokens(),t>this.tokens?!1:(this.tokens-=t,this.tokensRemovedAt.push([Date.now(),t]),!0)}async awaitTokens(t=1){this._isStopped&&await new Promise(n=>this.awaitingRestart.add(n));let r=this.getDelayForTokens(t);return r===0?Math.floor(this.tokens):(await new Promise(n=>setTimeout(()=>n(),r)),this.awaitTokens(t))}reset(){this.awaitingRestart.forEach(t=>t())}stop(t=!0){this._isStopped=!0,t&&this.tryRemoveTokens(this.getTokens())}start(){this._isStopped=!1}get isStopped(){return this._isStopped}};var Yt=class extends Et{constructor({bucketSize:t,tokensPerInterval:r,interval:n,stopped:o=!1}){super({tokensPerInterval:r,interval:n,stopped:o}),this.bucketSize=t,this.tokens=o?0:this.bucketSize,this.tokensRemovedAt=o?[0]:[Date.now()]}dripTokens(){if(this._isStopped)return;let t=Date.now(),r=this.tokensRemovedAt[0],n=Math.max(t-r,0);this.tokensRemovedAt=[t];let o=n*(this.tokensPerInterval/this.interval);return this.tokens=Math.min(this.tokens+o,this.bucketSize),Math.floor(this.tokens)}getDelayForTokens(t=1){if(t>this.bucketSize)throw new Error(`Cannot supply ${t} tokens at once (max is bucketSize = ${this.bucketSize}`);this.dripTokens();let r=t-this.tokens;if(r<=0)return 0;if(!this._isStopped)return Math.ceil(r*(this.interval/this.tokensPerInterval))}reset(){this._isStopped=!1,this.tokens=this.bucketSize,this.tokensRemovedAt=[Date.now()],super.reset()}};var vt=new W("Flag"),Ve=class extends xe{constructor(r,n){super(r,"div","Flag");this.parent=r;this.hostname=n}async check(){let r=!0;try{let n=localStorage.getItem(this.hostname);if(n!=null){let o=JSON.parse(n),s=Date.now(),i=o.time,a=s-i,c=7*24*60*60*1e3;a<c&&(r=!1,this.onResponse(o))}}catch(n){throw vt.error(`error while getting savedSTR for ${this.hostname}`,n),this.onError(),n}if(r){this.startLimiters();let n=await this.waitForAvailableEndpoint();await this.dnsRequest(n)}}startLimiters(){Ve.googleLimiter.isStopped===!0&&Ve.googleLimiter.start(),Ve.cloudFlareLimiter.isStopped===!0&&Ve.cloudFlareLimiter.start()}async waitForAvailableEndpoint(){let r=await Promise.race([Ve.googleLimiter.awaitTokens(1).then(()=>Ve.googleLimiter.tryRemoveTokens(1)).then(n=>{if(n)return`https://dns.google/resolve?name=${this.hostname}&type=A`}),Ve.cloudFlareLimiter.awaitTokens(1).then(()=>Ve.cloudFlareLimiter.tryRemoveTokens(1)).then(n=>{if(n)return`https://cloudflare-dns.com/dns-query?name=${this.hostname}&type=A`})]);return r??(vt.info("we awaited tokens, but could not retrieve any.. restarting dnsRequest"),await this.waitForAvailableEndpoint())}async dnsRequest(r){try{let o=await(await fetch(r,{method:"GET",headers:{Accept:"application/dns-json"}})).json();await this.handleDnsQueryResponse(o)}catch(n){vt.error("problem submitting DNS request",n),this.onError()}}async handleDnsQueryResponse(r){if(r.Answer==null)return vt.error('Response does not contain the "Answer" property:',r),this.onError();let n=null;for(let o=0;o<r.Answer.length&&n==null;o++){let s=r.Answer[o];s.type===1&&(n=s.data)}if(n!=null)try{let o=await window.IpfsGeoip.lookup(Wn,n);if(o?.country_code!=null){this.onResponse(o),o.time=Date.now();let s=JSON.stringify(o);localStorage.setItem(this.hostname,s)}else vt.error("geoipResponse.country_code is null")}catch(o){vt.error(`error while getting DNS A record for ${this.hostname}`,o),this.onError()}else vt.error("IP is still null",r)}onError(){this.tag.empty()}onResponse(r){this.tag.style.setProperty("background-image",`url('https://ipfs.io/ipfs/QmaYjj5BHGAWfopTdE8ESzypbuthsZqTeqz9rEuh3EJZi6/${r.country_code.toLowerCase()}.svg')`),this.tag.title=r.country_name,this.tag.empty()}},Zt=Ve;Zt.googleLimiter=new Yt({bucketSize:1,tokensPerInterval:1,interval:1e3*2,stopped:!0}),Zt.cloudFlareLimiter=new Yt({bucketSize:1,tokensPerInterval:1,interval:1e3*2,stopped:!0});var Jn=new W("expectSubdomainRedirect");async function Gp(e){let{redirected:t,url:r}=await fetch(e.toString());Jn.debug("redirected: ",t),Jn.debug("responseUrl: ",r),t&&Jn.debug("definitely redirected");let{hostname:n}=new Ce(r);if(!n.startsWith(rt)){let o=`Expected ${e.toString()} to redirect to subdomain '${rt}' but instead received '${r}'`;throw Jn.debug(o),new Error(o)}}async function Kn(e){return await new Promise((r,n)=>{let o=new Image,s=setTimeout(()=>{n(new Error(`Timeout when attempting to load img from '${o.src}`))},15e3),i=(a,c,h,p,y)=>{clearTimeout(s),y==null?n(new Error(`Unknown Error when attempting to load img from '${o.src}`)):n(y)};o.onerror=i,o.onload=()=>{clearTimeout(s),r()},o.src=e.toString()})}var kb=new W("Origin"),Xn=class{constructor(t){this.parent=t;this.tag=new Ae("div","Origin")}async check(){let t=new Ce(this.parent.gateway),r=new Ce(`${t.protocol}//${rt}.ipfs.${t.hostname}/?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`),n=new Ce(`${t.protocol}//${t.hostname}/ipfs/${rt}?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`);await Kn(r).then(async()=>await Gp(n)).then(()=>{this.tag.win(r.toString()),this.parent.tag.classList.add("origin")}).catch(o=>this.onerror(o))}onerror(t){throw kb.error(t),this.tag.err(),t}};var Vp=U(so());var{fetch:_b}=(0,Vp.default)(),Ys=new W("Trustless"),Qn=class extends kt{constructor(r){super(r,"div","Trustless");this.parent=r;this._className="Trustless";this._tagName="div"}async check(){let r=Date.now(),n=this.parent.gateway.replace(":hash",We);this.parent.tag.classList.add("trustless");try{if(!(await Promise.all(ri.map(async s=>{let i=`${n}?format=${s}&now=${r}#x-ipfs-companion-no-redirect`,a=await _b(i);return Boolean(a.headers.get("Content-Type")?.includes(`application/vnd.ipld.${s}`))}))).includes(!1))this.tag.win();else throw Ys.debug("The response type did not match the expected type"),this.onerror(),new Error(`URL '${n} does not support Trustless`)}catch(o){throw Ys.error(o),this.onerror(),o}}checked(){Ys.warn("Not implemented yet")}onerror(){this.tag.err()}};var Pb=new W("Status"),Yn=class extends xe{constructor(r){super(r,"div","Status");this.parent=r;this._up=!1;this._down=!1}async check(){let r=new Ce(this.parent.gateway),n=new Ce(`${r.protocol}//${r.hostname}/ipfs/${rt}?now=${Date.now()}&filename=1x1.png#x-ipfs-companion-no-redirect`);await Kn(n).catch(o=>{throw o!=null&&Pb.error(this.parent.gateway,o),o})}get down(){return this._down}set down(r){!this.up&&!this.down&&(this._down=!0,this.tag.lose())}get up(){return this._up}set up(r){!this.up&&!this.down&&(this._up=!0,this.tag.global(),this.parent.tag.classList.add("online"))}onerror(){throw new Error("Not implemented")}};function Zs(e){let t=e.toString();return e?.hostname!=null&&(t=e.hostname.toString()),t.replace(`${We}.ipfs.`,"").replace(`${We}.`,"")}var Pe=new W("GatewayNode"),Zn=class extends xe{constructor(r,n,o){super(r,"div","Node");this.parent=r;this.atLeastOneSuccess=!1;this.tag.empty(),this.tag.style.order=Date.now().toString(),this.status=new Yn(this),this.tag.append(this.status.tag),this.cors=new Rr(this),this.tag.append(this.cors.tag),this.origin=new Xn(this),this.tag.append(this.origin.tag),this.trustless=new Qn(this),this.tag.append(this.trustless.tag),this.link=document.createElement("div");let s=n.replace(":hash",We);this.link.url=new Ce(s),this.link.textContent=Zs(this.link.url),this.link.className="Link",this.flag=new Zt(this,this.link.textContent),this.tag.append(this.flag.tag),this.tag.append(this.link),this.took=document.createElement("div"),this.took.className="Took",this.tag.append(this.took),this.gateway=n,this.index=o,this.checkingTime=0}async check(){this.checkingTime=Date.now(),this.flag.check().then(()=>Pe.debug(this.gateway,"Flag success"));let r=[this.status.check().then(()=>Pe.debug(this.gateway,"Status success")).then(this.onSuccessfulCheck.bind(this)),this.cors.check().then(()=>Pe.debug(this.gateway,"CORS success")).then(this.onSuccessfulCheck.bind(this)),this.origin.check().then(()=>Pe.debug(this.gateway,"Origin success")).then(this.onSuccessfulCheck.bind(this)),this.trustless.check().then(()=>Pe.debug(this.gateway,"Trustless success")).then(this.onSuccessfulCheck.bind(this))];await Promise.allSettled(r).then(n=>n.map(o=>o.status)).then(n=>{n.includes("fulfilled")?(Pe.debug(`For gateway '${this.gateway}', at least one promise was successfully fulfilled`),Pe.debug(this.gateway,"this.status.up: ",this.status.up),Pe.debug(this.gateway,"this.status.down: ",this.status.down),this.status.up=!0,Pe.debug(this.gateway,"this.status.up: ",this.status.up),Pe.debug(this.gateway,"this.status.down: ",this.status.down)):(this.status.down=!0,Pe.debug(`For gateway '${this.gateway}', all promises were rejected`))})}onSuccessfulCheck(){if(!this.atLeastOneSuccess){Pe.info(`For gateway '${this.gateway}', at least one check was successful`),this.atLeastOneSuccess=!0,this.status.up=!0;let r=this.link.url;if(r!=null){let s=Zs(r);this.link.innerHTML=`<a title="${s}" href="${r.toString()}#x-ipfs-companion-no-redirect" target="_blank">${s}</a>`}let n=Date.now()-this.checkingTime;this.tag.style.order=n.toString();let o=(n/1e3).toFixed(2);this.took.textContent=`${o}s`}}onerror(){this.tag.err()}};var eo=class{constructor(t){this.parent=t;let r=document.getElementById("checker.results");if(r==null)throw new Error('Element with Id "checker.results" not found.');this.element=r}append(t){this.element.append(t.element)}};var to=class extends xe{constructor(r){super(r);this.parent=r;let n=document.getElementById("checker.stats");if(n==null)throw new Error('Could not find element with Id "checker.stats"');this.tag=Ae.fromElement(n),this.gateways=document.createElement("div"),this.gateways.textContent="0/0 tested",this.gateways.className="Gateways",this.tag.append(this.gateways),this.totals=document.createElement("div"),this.totals.textContent="0 online",this.totals.className="Totals",this.tag.append(this.totals)}update(){let r=0,n=0;for(let o of this.parent.nodes)o.status.up?r+=1:o.status.down&&(n+=1);this.gateways.textContent=`${r+n}/${this.parent.nodes.length} tested`,this.totals.textContent=`${r} online`}};var Cb=new W("Checker"),ro=class{constructor(){this.nodes=[];let t=document.getElementById("checker");if(t==null)throw new Error('Element with Id "checker" not found.');this.element=t,this.stats=new to(this),this.results=new eo(this),this.updateStats=this.updateStats.bind(this)}updateStats(){this.stats.update()}async checkGateways(t){let r=[];for(let n of t){let o=new Zn(this.results,n,this.nodes.length);this.nodes.push(o),this.results.append(o.tag),setTimeout(()=>{r.push(o.check().catch(s=>Cb.error(s)).finally(this.updateStats))},100*this.nodes.length)}}};var Wp=["https://ipfs.io/ipfs/:hash","https://dweb.link/ipfs/:hash","https://gateway.ipfs.io/ipfs/:hash","https://ninetailed.ninja/ipfs/:hash","https://via0.com/ipfs/:hash","https://ipfs.eternum.io/ipfs/:hash","https://hardbin.com/ipfs/:hash","https://cloudflare-ipfs.com/ipfs/:hash","https://astyanax.io/ipfs/:hash","https://cf-ipfs.com/ipfs/:hash","https://ipns.co/ipfs/:hash","https://ipfs.mrh.io/ipfs/:hash","https://gateway.originprotocol.com/ipfs/:hash","https://gateway.pinata.cloud/ipfs/:hash","https://ipfs.sloppyta.co/ipfs/:hash","https://ipfs.busy.org/ipfs/:hash","https://ipfs.greyh.at/ipfs/:hash","https://gateway.serph.network/ipfs/:hash","https://jorropo.net/ipfs/:hash","https://ipfs.fooock.com/ipfs/:hash","https://cdn.cwinfo.net/ipfs/:hash","https://aragon.ventures/ipfs/:hash","https://permaweb.io/ipfs/:hash","https://ipfs.best-practice.se/ipfs/:hash","https://storjipfs-gateway.com/ipfs/:hash","https://ipfs.runfission.com/ipfs/:hash","https://ipfs.trusti.id/ipfs/:hash","https://ipfs.overpi.com/ipfs/:hash","https://ipfs.ink/ipfs/:hash","https://ipfsgateway.makersplace.com/ipfs/:hash","https://ipfs.funnychain.co/ipfs/:hash","https://ipfs.telos.miami/ipfs/:hash","https://ipfs.mttk.net/ipfs/:hash","https://ipfs.fleek.co/ipfs/:hash","https://ipfs.jbb.one/ipfs/:hash","https://ipfs.yt/ipfs/:hash","https://hashnews.k1ic.com/ipfs/:hash","https://ipfs.drink.cafe/ipfs/:hash","https://ipfs.kavin.rocks/ipfs/:hash","https://ipfs.denarius.io/ipfs/:hash","https://crustwebsites.net/ipfs/:hash","https://ipfs0.sjc.cloudsigma.com/ipfs/:hash","http://ipfs.genenetwork.org/ipfs/:hash","https://ipfs.eth.aragon.network/ipfs/:hash","https://ipfs.smartholdem.io/ipfs/:hash","https://ipfs.xoqq.ch/ipfs/:hash","http://natoboram.mynetgear.com:8080/ipfs/:hash","https://video.oneloveipfs.com/ipfs/:hash","http://ipfs.anonymize.com/ipfs/:hash","https://ipfs.scalaproject.io/ipfs/:hash","https://search.ipfsgate.com/ipfs/:hash","https://ipfs.decoo.io/ipfs/:hash","https://alexdav.id/ipfs/:hash","https://ipfs.uploads.nu/ipfs/:hash","https://hub.textile.io/ipfs/:hash","https://ipfs1.pixura.io/ipfs/:hash","https://ravencoinipfs-gateway.com/ipfs/:hash","https://konubinix.eu/ipfs/:hash","https://ipfs.tubby.cloud/ipfs/:hash","https://ipfs.lain.la/ipfs/:hash","https://ipfs.kaleido.art/ipfs/:hash","https://ipfs.slang.cx/ipfs/:hash","https://ipfs.arching-kaos.com/ipfs/:hash","https://storry.tv/ipfs/:hash","https://ipfs.1-2.dev/ipfs/:hash","https://dweb.eu.org/ipfs/:hash","https://permaweb.eu.org/ipfs/:hash","https://ipfs.namebase.io/ipfs/:hash","https://ipfs.tribecap.co/ipfs/:hash","https://ipfs.kinematiks.com/ipfs/:hash","https://c4rex.co/ipfs/:hash","https://nftstorage.link/ipfs/:hash","https://gravity.jup.io/ipfs/:hash","http://fzdqwfb5ml56oadins5jpuhe6ki6bk33umri35p5kt2tue4fpws5efid.onion/ipfs/:hash","https://tth-ipfs.com/ipfs/:hash","https://ipfs.chisdealhd.co.uk/ipfs/:hash","https://ipfs.alloyxuast.tk/ipfs/:hash","https://ipfs.litnet.work/ipfs/:hash","https://4everland.io/ipfs/:hash","https://ipfs-gateway.cloud/ipfs/:hash","https://w3s.link/ipfs/:hash","https://cthd.icu/ipfs/:hash"];var Jp=new W("App index");window.checker=new ro;window.checker.checkGateways(Wp).catch(e=>{Jp.error("Unexpected error"),Jp.error(e)});})();
return IpfsPublicGatewayChecker}));
